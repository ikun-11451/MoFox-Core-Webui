{"openapi":"3.1.0","info":{"title":"MoFox-Bot","version":"0.1.0"},"paths":{"/api/messages/recent":{"get":{"summary":"Get Message Stats","description":"获取BOT在指定天数内的消息统计数据。","operationId":"get_message_stats_api_messages_recent_get","security":[{"APIKeyHeader":[]}],"parameters":[{"name":"days","in":"query","required":false,"schema":{"type":"integer","minimum":1,"description":"指定查询过去多少天的数据","default":1,"title":"Days"},"description":"指定查询过去多少天的数据"},{"name":"message_type","in":"query","required":false,"schema":{"enum":["all","sent","received"],"type":"string","description":"筛选消息类型: 'sent' (BOT发送的), 'received' (BOT接收的), or 'all' (全部)","default":"all","title":"Message Type"},"description":"筛选消息类型: 'sent' (BOT发送的), 'received' (BOT接收的), or 'all' (全部)"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/messages/stats_by_chat":{"get":{"summary":"Get Message Stats By Chat","description":"获取在指定天数内，按聊天会话统计的消息数据。\n可根据消息来源 (用户或BOT) 进行筛选。","operationId":"get_message_stats_by_chat_api_messages_stats_by_chat_get","security":[{"APIKeyHeader":[]}],"parameters":[{"name":"days","in":"query","required":false,"schema":{"type":"integer","minimum":1,"description":"指定查询过去多少天的数据","default":1,"title":"Days"},"description":"指定查询过去多少天的数据"},{"name":"source","in":"query","required":false,"schema":{"enum":["user","bot"],"type":"string","description":"筛选消息来源: 'user' (用户发送的), 'bot' (BOT发送的)","default":"user","title":"Source"},"description":"筛选消息来源: 'user' (用户发送的), 'bot' (BOT发送的)"},{"name":"group_by_user","in":"query","required":false,"schema":{"type":"boolean","description":"是否按用户进行分组统计 (仅当 source='user' 时有效)","default":false,"title":"Group By User"},"description":"是否按用户进行分组统计 (仅当 source='user' 时有效)"},{"name":"format","in":"query","required":false,"schema":{"type":"boolean","description":"是否格式化输出，包含群聊和用户信息","default":false,"title":"Format"},"description":"是否格式化输出，包含群聊和用户信息"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/llm/stats":{"get":{"summary":"Get Llm Stats","description":"获取大模型使用情况的统计信息。","operationId":"get_llm_stats_api_llm_stats_get","security":[{"APIKeyHeader":[]}],"parameters":[{"name":"period_type","in":"query","required":false,"schema":{"enum":["daily","custom","last_hour","last_24_hours","last_7_days","last_30_days"],"type":"string","description":"查询的时间段类型","default":"daily","title":"Period Type"},"description":"查询的时间段类型"},{"name":"days","in":"query","required":false,"schema":{"type":"integer","minimum":1,"description":"当 period_type 为 'daily' 时,指定查询过去多少天的数据","default":1,"title":"Days"},"description":"当 period_type 为 'daily' 时,指定查询过去多少天的数据"},{"name":"start_time_str","in":"query","required":false,"schema":{"type":"string","description":"当 period_type 为 'custom' 时,指定查询的开始时间 (ISO 8601)","title":"Start Time Str"},"description":"当 period_type 为 'custom' 时,指定查询的开始时间 (ISO 8601)"},{"name":"end_time_str","in":"query","required":false,"schema":{"type":"string","description":"当 period_type 为 'custom' 时,指定查询的结束时间 (ISO 8601)","title":"End Time Str"},"description":"当 period_type 为 'custom' 时,指定查询的结束时间 (ISO 8601)"},{"name":"group_by","in":"query","required":false,"schema":{"enum":["model","module","user","type"],"type":"string","description":"按指定维度对结果进行分组","default":"model","title":"Group By"},"description":"按指定维度对结果进行分组"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/visualizer/":{"get":{"summary":"Index","description":"主页面","operationId":"index_visualizer__get","responses":{"200":{"description":"Successful Response","content":{"text/html":{"schema":{"type":"string"}}}}}}},"/visualizer/api/graph/full":{"get":{"summary":"Get Full Graph","description":"获取完整记忆图数据","operationId":"get_full_graph_visualizer_api_graph_full_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/visualizer/api/graph/summary":{"get":{"summary":"Get Graph Summary","description":"获取图的摘要信息（仅统计数据，不包含节点和边）","operationId":"get_graph_summary_visualizer_api_graph_summary_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/visualizer/api/graph/paginated":{"get":{"summary":"Get Paginated Graph","description":"分页获取图数据，支持重要性过滤","operationId":"get_paginated_graph_visualizer_api_graph_paginated_get","parameters":[{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"description":"页码","default":1,"title":"Page"},"description":"页码"},{"name":"page_size","in":"query","required":false,"schema":{"type":"integer","maximum":2000,"minimum":100,"description":"每页节点数","default":500,"title":"Page Size"},"description":"每页节点数"},{"name":"min_importance","in":"query","required":false,"schema":{"type":"number","maximum":1.0,"minimum":0.0,"description":"最小重要性阈值","default":0.0,"title":"Min Importance"},"description":"最小重要性阈值"},{"name":"node_types","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"节点类型过滤，逗号分隔","title":"Node Types"},"description":"节点类型过滤，逗号分隔"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/visualizer/api/graph/clustered":{"get":{"summary":"Get Clustered Graph","description":"获取聚类简化后的图数据","operationId":"get_clustered_graph_visualizer_api_graph_clustered_get","parameters":[{"name":"max_nodes","in":"query","required":false,"schema":{"type":"integer","maximum":1000,"minimum":50,"description":"最大节点数","default":300,"title":"Max Nodes"},"description":"最大节点数"},{"name":"cluster_threshold","in":"query","required":false,"schema":{"type":"integer","maximum":50,"minimum":2,"description":"聚类阈值","default":10,"title":"Cluster Threshold"},"description":"聚类阈值"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/visualizer/api/files":{"get":{"summary":"List Files Api","description":"列出所有可用的数据文件","operationId":"list_files_api_visualizer_api_files_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/visualizer/select_file":{"post":{"summary":"Select File","description":"选择要加载的数据文件","operationId":"select_file_visualizer_select_file_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/visualizer/reload":{"get":{"summary":"Reload Data","description":"重新加载数据","operationId":"reload_data_visualizer_reload_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/visualizer/api/search":{"get":{"summary":"Search Memories","description":"搜索记忆","operationId":"search_memories_visualizer_api_search_get","parameters":[{"name":"q","in":"query","required":true,"schema":{"type":"string","title":"Q"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":50,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/visualizer/api/stats":{"get":{"summary":"Get Statistics","description":"获取统计信息","operationId":"get_statistics_visualizer_api_stats_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/plugins/webui_backend/auth/health":{"get":{"tags":["webui_backend"],"summary":"健康检查","description":"检查API服务是否正常运行\n此端点不需要认证","operationId":"health_check_plugins_webui_backend_auth_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/plugins/webui_backend/auth/login":{"get":{"tags":["webui_backend"],"summary":"登录验证","description":"登录验证接口\n\n前端在请求头中携带 X-API-Key，如果验证通过则返回成功\nVerifiedDep 会自动验证请求头中的 API Key\n如果 Key 无效，会自动返回 401/403 错误\n\nReturns:\n    登录成功响应，包含验证通过的 API Key","operationId":"login_plugins_webui_backend_auth_login_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginResponse"}}}}},"security":[{"APIKeyHeader":[]}]}},"/plugins/webui_backend/config/list":{"get":{"tags":["webui_backend"],"summary":"获取配置文件列表","description":"获取所有可管理的配置文件列表\n\n返回：\n- 主配置文件（bot_config.toml）\n- 模型配置文件（model_config.toml）\n- 所有插件配置文件","operationId":"list_configs_plugins_webui_backend_config_list_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ConfigListResponse"}}}}},"security":[{"APIKeyHeader":[]}]}},"/plugins/webui_backend/config/content/{path}":{"get":{"tags":["webui_backend"],"summary":"获取配置文件内容","description":"获取指定配置文件的内容\n\nArgs:\n    path: 配置文件相对路径\n\n返回：\n- 原始 TOML 内容\n- 解析后的字典","operationId":"get_config_content_plugins_webui_backend_config_content__path__get","security":[{"APIKeyHeader":[]}],"parameters":[{"name":"path","in":"path","required":true,"schema":{"type":"string","title":"Path"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/plugins/webui_backend/config/schema/{path}":{"get":{"tags":["webui_backend"],"summary":"获取配置文件结构","description":"获取配置文件的结构化模式，用于可视化编辑\n\nArgs:\n    path: 配置文件相对路径\n\n返回：\n- 按 section 分组的字段列表\n- 每个字段包含：键名、类型、当前值、描述","operationId":"get_config_schema_plugins_webui_backend_config_schema__path__get","security":[{"APIKeyHeader":[]}],"parameters":[{"name":"path","in":"path","required":true,"schema":{"type":"string","title":"Path"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/plugins/webui_backend/config/save/{path}":{"post":{"tags":["webui_backend"],"summary":"保存配置文件","description":"保存配置文件（原始 TOML 内容）\n\nArgs:\n    path: 配置文件相对路径\n    request: 包含 TOML 内容和备份选项","operationId":"save_config_plugins_webui_backend_config_save__path__post","security":[{"APIKeyHeader":[]}],"parameters":[{"name":"path","in":"path","required":true,"schema":{"type":"string","title":"Path"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SaveConfigRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/plugins/webui_backend/config/update/{path}":{"post":{"tags":["webui_backend"],"summary":"更新配置（可视化编辑）","description":"更新配置文件的特定字段（用于可视化编辑）\n使用 tomlkit 保留原始文件的注释和格式\n\nArgs:\n    path: 配置文件相对路径\n    request: 包含更新的键值对","operationId":"update_config_plugins_webui_backend_config_update__path__post","security":[{"APIKeyHeader":[]}],"parameters":[{"name":"path","in":"path","required":true,"schema":{"type":"string","title":"Path"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateConfigRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/plugins/webui_backend/config/backups/{path}":{"get":{"tags":["webui_backend"],"summary":"获取配置备份列表","description":"获取指定配置文件的备份列表\n\nArgs:\n    path: 配置文件相对路径","operationId":"list_backups_plugins_webui_backend_config_backups__path__get","security":[{"APIKeyHeader":[]}],"parameters":[{"name":"path","in":"path","required":true,"schema":{"type":"string","title":"Path"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/plugins/webui_backend/config/restore/{path}":{"post":{"tags":["webui_backend"],"summary":"从备份恢复配置","description":"从备份恢复配置文件\n\nArgs:\n    path: 配置文件相对路径\n    backup_name: 备份文件名","operationId":"restore_backup_plugins_webui_backend_config_restore__path__post","security":[{"APIKeyHeader":[]}],"parameters":[{"name":"path","in":"path","required":true,"schema":{"type":"string","title":"Path"}},{"name":"backup_name","in":"query","required":true,"schema":{"type":"string","title":"Backup Name"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/plugins/webui_backend/config/validate":{"post":{"tags":["webui_backend"],"summary":"验证TOML内容","description":"验证 TOML 内容是否有效\n\nArgs:\n    content: TOML 内容","operationId":"validate_toml_plugins_webui_backend_config_validate_post","security":[{"APIKeyHeader":[]}],"parameters":[{"name":"content","in":"query","required":true,"schema":{"type":"string","title":"Content"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/plugins/webui_backend/plugin_manager/plugins":{"get":{"tags":["webui_backend"],"summary":"获取所有插件列表","description":"获取所有插件列表，包括已加载、已注册和加载失败的插件","operationId":"get_all_plugins_plugins_webui_backend_plugin_manager_plugins_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/plugins__backend__routers__plugin_router__PluginListResponse"}}}}},"security":[{"APIKeyHeader":[]}]}},"/plugins/webui_backend/plugin_manager/plugins/{plugin_name}":{"get":{"tags":["webui_backend"],"summary":"获取插件详情","description":"获取指定插件的详细信息，包括组件列表、配置路径等\n注意：只有已加载的插件才能获取详情","operationId":"get_plugin_detail_plugins_webui_backend_plugin_manager_plugins__plugin_name__get","security":[{"APIKeyHeader":[]}],"parameters":[{"name":"plugin_name","in":"path","required":true,"schema":{"type":"string","title":"Plugin Name"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/plugins__backend__routers__plugin_router__PluginDetailResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/plugins/webui_backend/plugin_manager/plugins/{plugin_name}/enable":{"post":{"tags":["webui_backend"],"summary":"启用插件","description":"启用指定的插件","operationId":"enable_plugin_plugins_webui_backend_plugin_manager_plugins__plugin_name__enable_post","security":[{"APIKeyHeader":[]}],"parameters":[{"name":"plugin_name","in":"path","required":true,"schema":{"type":"string","title":"Plugin Name"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/OperationResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/plugins/webui_backend/plugin_manager/plugins/{plugin_name}/disable":{"post":{"tags":["webui_backend"],"summary":"禁用插件","description":"禁用指定的插件","operationId":"disable_plugin_plugins_webui_backend_plugin_manager_plugins__plugin_name__disable_post","security":[{"APIKeyHeader":[]}],"parameters":[{"name":"plugin_name","in":"path","required":true,"schema":{"type":"string","title":"Plugin Name"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/OperationResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/plugins/webui_backend/plugin_manager/plugins/{plugin_name}/reload":{"post":{"tags":["webui_backend"],"summary":"重载插件","description":"重新加载指定的插件","operationId":"reload_plugin_plugins_webui_backend_plugin_manager_plugins__plugin_name__reload_post","security":[{"APIKeyHeader":[]}],"parameters":[{"name":"plugin_name","in":"path","required":true,"schema":{"type":"string","title":"Plugin Name"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/OperationResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/plugins/webui_backend/plugin_manager/plugins/{plugin_name}/unload":{"post":{"tags":["webui_backend"],"summary":"卸载插件","description":"完全卸载指定的插件","operationId":"unload_plugin_plugins_webui_backend_plugin_manager_plugins__plugin_name__unload_post","security":[{"APIKeyHeader":[]}],"parameters":[{"name":"plugin_name","in":"path","required":true,"schema":{"type":"string","title":"Plugin Name"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/OperationResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/plugins/webui_backend/plugin_manager/plugins/{plugin_name}/delete":{"delete":{"tags":["webui_backend"],"summary":"删除插件","description":"删除指定的插件（删除文件夹）","operationId":"delete_plugin_plugins_webui_backend_plugin_manager_plugins__plugin_name__delete_delete","security":[{"APIKeyHeader":[]}],"parameters":[{"name":"plugin_name","in":"path","required":true,"schema":{"type":"string","title":"Plugin Name"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/OperationResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/plugins/webui_backend/plugin_manager/plugins/{plugin_name}/load":{"post":{"tags":["webui_backend"],"summary":"加载插件","description":"加载指定的插件","operationId":"load_plugin_plugins_webui_backend_plugin_manager_plugins__plugin_name__load_post","security":[{"APIKeyHeader":[]}],"parameters":[{"name":"plugin_name","in":"path","required":true,"schema":{"type":"string","title":"Plugin Name"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/OperationResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/plugins/webui_backend/plugin_manager/plugins/{plugin_name}/status":{"get":{"tags":["webui_backend"],"summary":"获取插件状态","description":"获取插件的当前状态","operationId":"get_plugin_status_plugins_webui_backend_plugin_manager_plugins__plugin_name__status_get","security":[{"APIKeyHeader":[]}],"parameters":[{"name":"plugin_name","in":"path","required":true,"schema":{"type":"string","title":"Plugin Name"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Get Plugin Status Plugins Webui Backend Plugin Manager Plugins  Plugin Name  Status Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/plugins/webui_backend/plugin_manager/plugins/{plugin_name}/components":{"get":{"tags":["webui_backend"],"summary":"获取插件的所有组件","description":"获取指定插件的所有组件","operationId":"get_plugin_components_plugins_webui_backend_plugin_manager_plugins__plugin_name__components_get","security":[{"APIKeyHeader":[]}],"parameters":[{"name":"plugin_name","in":"path","required":true,"schema":{"type":"string","title":"Plugin Name"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ComponentsResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/plugins/webui_backend/plugin_manager/plugins/{plugin_name}/components/{component_name}/enable":{"post":{"tags":["webui_backend"],"summary":"启用组件","description":"启用指定的组件","operationId":"enable_component_plugins_webui_backend_plugin_manager_plugins__plugin_name__components__component_name__enable_post","security":[{"APIKeyHeader":[]}],"parameters":[{"name":"plugin_name","in":"path","required":true,"schema":{"type":"string","title":"Plugin Name"}},{"name":"component_name","in":"path","required":true,"schema":{"type":"string","title":"Component Name"}},{"name":"component_type","in":"query","required":true,"schema":{"type":"string","description":"组件类型","title":"Component Type"},"description":"组件类型"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/OperationResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/plugins/webui_backend/plugin_manager/plugins/{plugin_name}/components/{component_name}/disable":{"post":{"tags":["webui_backend"],"summary":"禁用组件","description":"禁用指定的组件","operationId":"disable_component_plugins_webui_backend_plugin_manager_plugins__plugin_name__components__component_name__disable_post","security":[{"APIKeyHeader":[]}],"parameters":[{"name":"plugin_name","in":"path","required":true,"schema":{"type":"string","title":"Plugin Name"}},{"name":"component_name","in":"path","required":true,"schema":{"type":"string","title":"Component Name"}},{"name":"component_type","in":"query","required":true,"schema":{"type":"string","description":"组件类型","title":"Component Type"},"description":"组件类型"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/OperationResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/plugins/webui_backend/plugin_manager/plugins/scan":{"post":{"tags":["webui_backend"],"summary":"扫描新插件","description":"扫描插件目录，发现并注册新插件","operationId":"scan_plugins_plugins_webui_backend_plugin_manager_plugins_scan_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ScanRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ScanResultResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"APIKeyHeader":[]}]}},"/plugins/webui_backend/plugin_manager/plugins/reload-all":{"post":{"tags":["webui_backend"],"summary":"重载所有插件","description":"重新加载所有已加载的插件","operationId":"reload_all_plugins_plugins_webui_backend_plugin_manager_plugins_reload_all_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/OperationResponse"}}}}},"security":[{"APIKeyHeader":[]}]}},"/plugins/webui_backend/plugin_manager/plugins/batch/enable":{"post":{"tags":["webui_backend"],"summary":"批量启用插件","description":"批量启用多个插件","operationId":"batch_enable_plugins_plugins_webui_backend_plugin_manager_plugins_batch_enable_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/plugins__backend__routers__plugin_router__BatchOperationRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BatchOperationResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"APIKeyHeader":[]}]}},"/plugins/webui_backend/plugin_manager/plugins/batch/disable":{"post":{"tags":["webui_backend"],"summary":"批量禁用插件","description":"批量禁用多个插件","operationId":"batch_disable_plugins_plugins_webui_backend_plugin_manager_plugins_batch_disable_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/plugins__backend__routers__plugin_router__BatchOperationRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BatchOperationResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"APIKeyHeader":[]}]}},"/plugins/webui_backend/plugin_manager/plugins/batch/reload":{"post":{"tags":["webui_backend"],"summary":"批量重载插件","description":"批量重载多个插件","operationId":"batch_reload_plugins_plugins_webui_backend_plugin_manager_plugins_batch_reload_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/plugins__backend__routers__plugin_router__BatchOperationRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BatchOperationResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"APIKeyHeader":[]}]}},"/plugins/webui_backend/stats/overview":{"get":{"tags":["webui_backend"],"summary":"获取仪表盘总览数据","description":"获取仪表盘总览统计数据\n\n返回：\n- 插件统计：已加载、已注册、失败、启用、禁用数量\n- 组件统计：总数、启用数、禁用数、按类型分组\n- 聊天流统计：总数、群聊数、私聊数\n- 系统统计：运行时间、内存使用、CPU使用率","operationId":"get_dashboard_overview_plugins_webui_backend_stats_overview_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DashboardOverviewResponse"}}}}},"security":[{"APIKeyHeader":[]}]}},"/plugins/webui_backend/stats/model_usage":{"get":{"tags":["webui_backend"],"summary":"获取模型使用统计","description":"获取模型使用统计","operationId":"get_model_usage_stats_plugins_webui_backend_stats_model_usage_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ModelUsageStatsResponse"}}}}},"security":[{"APIKeyHeader":[]}]}},"/plugins/webui_backend/stats/plugins":{"get":{"tags":["webui_backend"],"summary":"获取插件列表","description":"获取所有已加载插件的详细信息列表","operationId":"get_plugins_list_plugins_webui_backend_stats_plugins_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/plugins__backend__routers__stats_router__PluginListResponse"}}}}},"security":[{"APIKeyHeader":[]}]}},"/plugins/webui_backend/stats/plugins/{plugin_name}":{"get":{"tags":["webui_backend"],"summary":"获取插件详情","description":"获取指定插件的详细信息","operationId":"get_plugin_detail_plugins_webui_backend_stats_plugins__plugin_name__get","security":[{"APIKeyHeader":[]}],"parameters":[{"name":"plugin_name","in":"path","required":true,"schema":{"type":"string","title":"Plugin Name"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/plugins/webui_backend/stats/system":{"get":{"tags":["webui_backend"],"summary":"获取系统状态","description":"获取系统运行状态","operationId":"get_system_status_plugins_webui_backend_stats_system_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"APIKeyHeader":[]}]}},"/plugins/webui_backend/stats/system/restart":{"post":{"tags":["webui_backend"],"summary":"重启Bot","description":"重启 Bot 进程","operationId":"restart_bot_plugins_webui_backend_stats_system_restart_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"APIKeyHeader":[]}]}},"/plugins/webui_backend/stats/system/shutdown":{"post":{"tags":["webui_backend"],"summary":"关闭Bot","description":"优雅关闭 Bot 进程","operationId":"shutdown_bot_plugins_webui_backend_stats_system_shutdown_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"APIKeyHeader":[]}]}},"/plugins/webui_backend/stats/schedule":{"get":{"tags":["webui_backend"],"summary":"获取今日日程","description":"获取指定日期的日程安排\n\nArgs:\n    date: 日期字符串，格式为 YYYY-MM-DD，默认为今天","operationId":"get_today_schedule_plugins_webui_backend_stats_schedule_get","security":[{"APIKeyHeader":[]}],"parameters":[{"name":"date","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Date"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/plugins/webui_backend/stats/monthly-plans":{"get":{"tags":["webui_backend"],"summary":"获取月度计划","description":"获取月度计划\n\nArgs:\n    month: 月份字符串，格式为 YYYY-MM，默认为当月\n    limit: 返回数量限制，默认10条","operationId":"get_monthly_plans_plugins_webui_backend_stats_monthly_plans_get","security":[{"APIKeyHeader":[]}],"parameters":[{"name":"month","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Month"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":10,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/plugins/webui_backend/stats/llm-stats":{"get":{"tags":["webui_backend"],"summary":"获取LLM使用统计","description":"获取LLM使用统计\n\nArgs:\n    period: 时间段，支持 last_hour, last_24_hours, last_7_days, last_30_days","operationId":"get_llm_stats_plugins_webui_backend_stats_llm_stats_get","security":[{"APIKeyHeader":[]}],"parameters":[{"name":"period","in":"query","required":false,"schema":{"enum":["last_hour","last_24_hours","last_7_days","last_30_days"],"type":"string","default":"last_24_hours","title":"Period"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/plugins/webui_backend/stats/message-stats":{"get":{"tags":["webui_backend"],"summary":"获取消息收发统计","description":"获取消息收发统计（按时间分组）\n\nArgs:\n    period: 时间段，支持 last_hour, last_24_hours, last_7_days, last_30_days","operationId":"get_message_stats_plugins_webui_backend_stats_message_stats_get","security":[{"APIKeyHeader":[]}],"parameters":[{"name":"period","in":"query","required":false,"schema":{"enum":["last_hour","last_24_hours","last_7_days","last_30_days"],"type":"string","default":"last_24_hours","title":"Period"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/plugins/webui_backend/stats/plugins-by-status":{"get":{"tags":["webui_backend"],"summary":"按状态获取插件列表","description":"获取按状态分组的插件列表（已加载和加载失败）","operationId":"get_plugins_by_status_plugins_webui_backend_stats_plugins_by_status_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"APIKeyHeader":[]}]}},"/plugins/webui_backend/stats/components-by-type/{component_type}":{"get":{"tags":["webui_backend"],"summary":"按类型获取组件列表","description":"获取指定类型的组件列表\n\nArgs:\n    component_type: 组件类型名称\n    enabled_only: 是否只返回已启用的组件","operationId":"get_components_by_type_plugins_webui_backend_stats_components_by_type__component_type__get","security":[{"APIKeyHeader":[]}],"parameters":[{"name":"component_type","in":"path","required":true,"schema":{"type":"string","title":"Component Type"}},{"name":"enabled_only","in":"query","required":false,"schema":{"type":"boolean","default":false,"title":"Enabled Only"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/plugins/webui_backend/marketplace/list":{"get":{"tags":["webui_backend"],"summary":"Get Marketplace Plugins","description":"获取插件市场列表","operationId":"get_marketplace_plugins_plugins_webui_backend_marketplace_list_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MarketplaceListResponse"}}}}},"security":[{"APIKeyHeader":[]}]}},"/plugins/webui_backend/marketplace/detail/{plugin_id}":{"get":{"tags":["webui_backend"],"summary":"Get Plugin Detail","description":"获取插件详情","operationId":"get_plugin_detail_plugins_webui_backend_marketplace_detail__plugin_id__get","security":[{"APIKeyHeader":[]}],"parameters":[{"name":"plugin_id","in":"path","required":true,"schema":{"type":"string","title":"Plugin Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/plugins__backend__routers__marketplace_router__PluginDetailResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/plugins/webui_backend/marketplace/install":{"post":{"tags":["webui_backend"],"summary":"Install Plugin","description":"安装插件（下载 ZIP 并解压）","operationId":"install_plugin_plugins_webui_backend_marketplace_install_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/InstallPluginRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InstallPluginResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"APIKeyHeader":[]}]}},"/plugins/webui_backend/marketplace/update/{plugin_id}":{"post":{"tags":["webui_backend"],"summary":"Update Plugin","description":"更新插件（重新下载并覆盖）","operationId":"update_plugin_plugins_webui_backend_marketplace_update__plugin_id__post","security":[{"APIKeyHeader":[]}],"parameters":[{"name":"plugin_id","in":"path","required":true,"schema":{"type":"string","title":"Plugin Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdatePluginResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/plugins/webui_backend/marketplace/check-updates":{"get":{"tags":["webui_backend"],"summary":"Check Plugin Updates","description":"检查插件更新","operationId":"check_plugin_updates_plugins_webui_backend_marketplace_check_updates_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CheckUpdatesResponse"}}}}},"security":[{"APIKeyHeader":[]}]}},"/plugins/webui_backend/git_update/status":{"get":{"tags":["webui_backend"],"summary":"Get Git Status","description":"获取 Git 环境状态","operationId":"get_git_status_plugins_webui_backend_git_update_status_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GitStatusResponse"}}}}},"security":[{"APIKeyHeader":[]}]}},"/plugins/webui_backend/git_update/install":{"post":{"tags":["webui_backend"],"summary":"Install Git","description":"自动安装 Git（支持全平台）","operationId":"install_git_plugins_webui_backend_git_update_install_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GitInstallResponse"}}}}},"security":[{"APIKeyHeader":[]}]}},"/plugins/webui_backend/git_update/check":{"get":{"tags":["webui_backend"],"summary":"Check Updates","description":"检查主程序更新（仅支持 Git 仓库）","operationId":"check_updates_plugins_webui_backend_git_update_check_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GitCheckUpdateResponse"}}}}},"security":[{"APIKeyHeader":[]}]}},"/plugins/webui_backend/git_update/update":{"post":{"tags":["webui_backend"],"summary":"Update Main Program","description":"更新主程序（仅支持 Git 仓库）","operationId":"update_main_program_plugins_webui_backend_git_update_update_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/GitUpdateRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GitUpdateResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"APIKeyHeader":[]}]}},"/plugins/webui_backend/git_update/rollback":{"post":{"tags":["webui_backend"],"summary":"Rollback Version","description":"回滚到指定版本（仅支持 Git 仓库）","operationId":"rollback_version_plugins_webui_backend_git_update_rollback_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/GitRollbackRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GitUpdateResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"APIKeyHeader":[]}]}},"/plugins/webui_backend/git_update/switch-branch":{"post":{"tags":["webui_backend"],"summary":"Switch Branch","description":"切换主程序分支","operationId":"switch_branch_plugins_webui_backend_git_update_switch_branch_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/GitSwitchBranchRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GitSwitchBranchResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"APIKeyHeader":[]}]}},"/plugins/webui_backend/git_update/set-path":{"post":{"tags":["webui_backend"],"summary":"Set Git Path","description":"设置自定义 Git 路径","operationId":"set_git_path_plugins_webui_backend_git_update_set_path_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/GitSetPathRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GitSetPathResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"APIKeyHeader":[]}]}},"/plugins/webui_backend/git_update/clear-path":{"delete":{"tags":["webui_backend"],"summary":"Clear Git Path","description":"清除自定义 Git 路径","operationId":"clear_git_path_plugins_webui_backend_git_update_clear_path_delete","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GitSetPathResponse"}}}}},"security":[{"APIKeyHeader":[]}]}},"/plugins/webui_backend/log_viewer/files":{"get":{"tags":["webui_backend"],"summary":"Get Log Files","description":"获取所有日志文件列表","operationId":"get_log_files_plugins_webui_backend_log_viewer_files_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LogFilesResponse"}}}}},"security":[{"APIKeyHeader":[]}]}},"/plugins/webui_backend/log_viewer/search":{"get":{"tags":["webui_backend"],"summary":"Search Logs","description":"搜索和筛选日志","operationId":"search_logs_plugins_webui_backend_log_viewer_search_get","security":[{"APIKeyHeader":[]}],"parameters":[{"name":"filename","in":"query","required":true,"schema":{"type":"string","description":"日志文件名","title":"Filename"},"description":"日志文件名"},{"name":"query","in":"query","required":false,"schema":{"type":"string","description":"搜索关键词","default":"","title":"Query"},"description":"搜索关键词"},{"name":"level","in":"query","required":false,"schema":{"type":"string","description":"日志级别","default":"","title":"Level"},"description":"日志级别"},{"name":"logger_name","in":"query","required":false,"schema":{"type":"string","description":"Logger 名称","default":"","title":"Logger Name"},"description":"Logger 名称"},{"name":"start_time","in":"query","required":false,"schema":{"type":"string","description":"开始时间","default":"","title":"Start Time"},"description":"开始时间"},{"name":"end_time","in":"query","required":false,"schema":{"type":"string","description":"结束时间","default":"","title":"End Time"},"description":"结束时间"},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":1000,"minimum":1,"description":"每页数量","default":100,"title":"Limit"},"description":"每页数量"},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"description":"偏移量","default":0,"title":"Offset"},"description":"偏移量"},{"name":"regex","in":"query","required":false,"schema":{"type":"boolean","description":"是否使用正则表达式","default":false,"title":"Regex"},"description":"是否使用正则表达式"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LogSearchResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/plugins/webui_backend/log_viewer/loggers":{"get":{"tags":["webui_backend"],"summary":"Get Loggers","description":"获取日志文件中的所有 logger","operationId":"get_loggers_plugins_webui_backend_log_viewer_loggers_get","security":[{"APIKeyHeader":[]}],"parameters":[{"name":"filename","in":"query","required":true,"schema":{"type":"string","description":"日志文件名","title":"Filename"},"description":"日志文件名"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LogLoggersResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/plugins/webui_backend/log_viewer/stats":{"get":{"tags":["webui_backend"],"summary":"Get Stats","description":"获取日志统计信息","operationId":"get_stats_plugins_webui_backend_log_viewer_stats_get","security":[{"APIKeyHeader":[]}],"parameters":[{"name":"filename","in":"query","required":true,"schema":{"type":"string","description":"日志文件名","title":"Filename"},"description":"日志文件名"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LogStatsResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/plugins/webui_backend/expression/chat-list":{"get":{"tags":["webui_backend"],"summary":"获取聊天流列表","description":"获取所有可用的聊天流列表","operationId":"get_chat_list_plugins_webui_backend_expression_chat_list_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"APIKeyHeader":[]}]}},"/plugins/webui_backend/expression/list":{"get":{"tags":["webui_backend"],"summary":"获取表达方式列表","description":"获取表达方式列表，支持分页、筛选和排序","operationId":"get_expression_list_plugins_webui_backend_expression_list_get","security":[{"APIKeyHeader":[]}],"parameters":[{"name":"chat_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"聊天流ID筛选","title":"Chat Id"},"description":"聊天流ID筛选"},{"name":"type","in":"query","required":false,"schema":{"anyOf":[{"enum":["style","grammar"],"type":"string"},{"type":"null"}],"description":"类型筛选","title":"Type"},"description":"类型筛选"},{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"description":"页码","default":1,"title":"Page"},"description":"页码"},{"name":"page_size","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"description":"每页数量","default":20,"title":"Page Size"},"description":"每页数量"},{"name":"sort_by","in":"query","required":false,"schema":{"enum":["count","last_active_time","create_date"],"type":"string","description":"排序字段","default":"last_active_time","title":"Sort By"},"description":"排序字段"},{"name":"sort_order","in":"query","required":false,"schema":{"enum":["asc","desc"],"type":"string","description":"排序顺序","default":"desc","title":"Sort Order"},"description":"排序顺序"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/plugins/webui_backend/expression/{expression_id}":{"get":{"tags":["webui_backend"],"summary":"获取表达方式详情","description":"获取指定表达方式的完整信息","operationId":"get_expression_detail_plugins_webui_backend_expression__expression_id__get","security":[{"APIKeyHeader":[]}],"parameters":[{"name":"expression_id","in":"path","required":true,"schema":{"type":"integer","title":"Expression Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["webui_backend"],"summary":"更新表达方式","description":"更新指定表达方式的信息","operationId":"update_expression_plugins_webui_backend_expression__expression_id__put","security":[{"APIKeyHeader":[]}],"parameters":[{"name":"expression_id","in":"path","required":true,"schema":{"type":"integer","title":"Expression Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateExpressionRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["webui_backend"],"summary":"删除表达方式","description":"删除指定的表达方式","operationId":"delete_expression_plugins_webui_backend_expression__expression_id__delete","security":[{"APIKeyHeader":[]}],"parameters":[{"name":"expression_id","in":"path","required":true,"schema":{"type":"integer","title":"Expression Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/plugins/webui_backend/expression/search/query":{"get":{"tags":["webui_backend"],"summary":"搜索表达方式","description":"根据关键词搜索表达方式","operationId":"search_expressions_plugins_webui_backend_expression_search_query_get","security":[{"APIKeyHeader":[]}],"parameters":[{"name":"keyword","in":"query","required":true,"schema":{"type":"string","minLength":1,"description":"搜索关键词","title":"Keyword"},"description":"搜索关键词"},{"name":"search_field","in":"query","required":false,"schema":{"enum":["situation","style","both"],"type":"string","description":"搜索范围","default":"both","title":"Search Field"},"description":"搜索范围"},{"name":"chat_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"限定聊天流","title":"Chat Id"},"description":"限定聊天流"},{"name":"type","in":"query","required":false,"schema":{"anyOf":[{"enum":["style","grammar"],"type":"string"},{"type":"null"}],"description":"限定类型","title":"Type"},"description":"限定类型"},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":200,"minimum":1,"description":"最大返回数量","default":50,"title":"Limit"},"description":"最大返回数量"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/plugins/webui_backend/expression/statistics/overview":{"get":{"tags":["webui_backend"],"summary":"获取统计信息","description":"获取表达方式的统计信息","operationId":"get_statistics_plugins_webui_backend_expression_statistics_overview_get","security":[{"APIKeyHeader":[]}],"parameters":[{"name":"chat_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"聊天流ID","title":"Chat Id"},"description":"聊天流ID"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/plugins/webui_backend/expression/":{"post":{"tags":["webui_backend"],"summary":"创建表达方式","description":"手动创建新的表达方式","operationId":"create_expression_plugins_webui_backend_expression__post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateExpressionRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"APIKeyHeader":[]}]}},"/plugins/webui_backend/expression/batch-delete":{"post":{"tags":["webui_backend"],"summary":"批量删除表达方式","description":"批量删除多个表达方式","operationId":"batch_delete_plugins_webui_backend_expression_batch_delete_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BatchDeleteRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"APIKeyHeader":[]}]}},"/plugins/webui_backend/expression/{expression_id}/activate":{"post":{"tags":["webui_backend"],"summary":"激活表达方式","description":"增加表达方式的权重","operationId":"activate_expression_plugins_webui_backend_expression__expression_id__activate_post","security":[{"APIKeyHeader":[]}],"parameters":[{"name":"expression_id","in":"path","required":true,"schema":{"type":"integer","title":"Expression Id"}},{"name":"increment","in":"query","required":false,"schema":{"type":"number","maximum":1.0,"minimum":0.0,"description":"增加的权重值","default":0.1,"title":"Increment"},"description":"增加的权重值"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/plugins/webui_backend/expression/sharing-groups/list":{"get":{"tags":["webui_backend"],"summary":"获取共享组配置","description":"获取所有共享组的配置信息","operationId":"get_sharing_groups_plugins_webui_backend_expression_sharing_groups_list_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"APIKeyHeader":[]}]}},"/plugins/webui_backend/expression/related-chats/{chat_id}":{"get":{"tags":["webui_backend"],"summary":"获取关联聊天流","description":"获取与指定聊天流共享表达方式的其他聊天流","operationId":"get_related_chats_plugins_webui_backend_expression_related_chats__chat_id__get","security":[{"APIKeyHeader":[]}],"parameters":[{"name":"chat_id","in":"path","required":true,"schema":{"type":"string","title":"Chat Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/plugins/webui_backend/expression/export/data":{"get":{"tags":["webui_backend"],"summary":"导出表达方式","description":"导出表达方式数据为JSON或CSV格式","operationId":"export_expressions_plugins_webui_backend_expression_export_data_get","security":[{"APIKeyHeader":[]}],"parameters":[{"name":"chat_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"聊天流ID","title":"Chat Id"},"description":"聊天流ID"},{"name":"type","in":"query","required":false,"schema":{"anyOf":[{"enum":["style","grammar"],"type":"string"},{"type":"null"}],"description":"类型","title":"Type"},"description":"类型"},{"name":"format","in":"query","required":false,"schema":{"enum":["json","csv"],"type":"string","description":"格式","default":"json","title":"Format"},"description":"格式"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/plugins/webui_backend/expression/import/data":{"post":{"tags":["webui_backend"],"summary":"导入表达方式","description":"从JSON或CSV文件导入表达方式数据","operationId":"import_expressions_plugins_webui_backend_expression_import_data_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ImportExpressionsRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"APIKeyHeader":[]}]}},"/plugins/webui_backend/relationship/list":{"get":{"tags":["webui_backend"],"summary":"获取用户列表","description":"获取所有用户的卡片信息，支持分页和平台筛选","operationId":"get_person_list_plugins_webui_backend_relationship_list_get","security":[{"APIKeyHeader":[]}],"parameters":[{"name":"page","in":"query","required":false,"schema":{"type":"integer","default":1,"title":"Page"}},{"name":"page_size","in":"query","required":false,"schema":{"type":"integer","default":20,"title":"Page Size"}},{"name":"platform","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Platform"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PersonListResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/plugins/webui_backend/relationship/person/{person_id}":{"get":{"tags":["webui_backend"],"summary":"获取用户详情","description":"获取指定用户的完整信息，包括基础信息、关系数据、印象和记忆点","operationId":"get_person_detail_plugins_webui_backend_relationship_person__person_id__get","security":[{"APIKeyHeader":[]}],"parameters":[{"name":"person_id","in":"path","required":true,"schema":{"type":"string","title":"Person Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PersonDetailResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["webui_backend"],"summary":"更新用户关系","description":"更新指定用户的关系分数和关系描述","operationId":"update_person_relationship_plugins_webui_backend_relationship_person__person_id__put","security":[{"APIKeyHeader":[]}],"parameters":[{"name":"person_id","in":"path","required":true,"schema":{"type":"string","title":"Person Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateRelationshipRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateRelationshipResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/plugins/webui_backend/relationship/person/{person_id}/impression":{"put":{"tags":["webui_backend"],"summary":"更新用户印象","description":"更新指定用户的详细印象和简短印象","operationId":"update_person_impression_plugins_webui_backend_relationship_person__person_id__impression_put","security":[{"APIKeyHeader":[]}],"parameters":[{"name":"person_id","in":"path","required":true,"schema":{"type":"string","title":"Person Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateImpressionRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateRelationshipResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/plugins/webui_backend/relationship/person/{person_id}/points":{"put":{"tags":["webui_backend"],"summary":"更新用户记忆点","description":"更新指定用户的记忆点列表","operationId":"update_person_points_plugins_webui_backend_relationship_person__person_id__points_put","security":[{"APIKeyHeader":[]}],"parameters":[{"name":"person_id","in":"path","required":true,"schema":{"type":"string","title":"Person Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"array","items":{"type":"object","additionalProperties":true},"title":"Points"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateRelationshipResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/plugins/webui_backend/relationship/person/{person_id}/report":{"get":{"tags":["webui_backend"],"summary":"获取关系报告","description":"生成指定用户的完整关系报告","operationId":"get_relationship_report_plugins_webui_backend_relationship_person__person_id__report_get","security":[{"APIKeyHeader":[]}],"parameters":[{"name":"person_id","in":"path","required":true,"schema":{"type":"string","title":"Person Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RelationshipReportResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/plugins/webui_backend/relationship/stats":{"get":{"tags":["webui_backend"],"summary":"获取关系统计","description":"获取系统关系统计信息","operationId":"get_relationship_stats_plugins_webui_backend_relationship_stats_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"APIKeyHeader":[]}]}},"/plugins/webui_backend/relationship/cache/clear":{"post":{"tags":["webui_backend"],"summary":"清理关系缓存","description":"清理指定用户或全部用户的关系缓存","operationId":"clear_relationship_cache_plugins_webui_backend_relationship_cache_clear_post","security":[{"APIKeyHeader":[]}],"parameters":[{"name":"person_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Person Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/plugins/webui_backend/relationship/platforms":{"get":{"tags":["webui_backend"],"summary":"获取平台列表","description":"获取所有用户的平台列表及每个平台的用户数","operationId":"get_platforms_plugins_webui_backend_relationship_platforms_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"APIKeyHeader":[]}]}},"/plugins/webui_backend/relationship/search":{"get":{"tags":["webui_backend"],"summary":"搜索用户","description":"根据用户名搜索用户","operationId":"search_person_plugins_webui_backend_relationship_search_get","security":[{"APIKeyHeader":[]}],"parameters":[{"name":"query","in":"query","required":true,"schema":{"type":"string","title":"Query"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/plugins/webui_backend/emoji/list":{"get":{"tags":["webui_backend"],"summary":"获取表情包列表","description":"分页获取表情包列表，支持搜索和筛选","operationId":"get_emoji_list_plugins_webui_backend_emoji_list_get","security":[{"APIKeyHeader":[]}],"parameters":[{"name":"page","in":"query","required":false,"schema":{"type":"integer","minimum":1,"description":"页码","default":1,"title":"Page"},"description":"页码"},{"name":"page_size","in":"query","required":false,"schema":{"type":"integer","maximum":200,"minimum":1,"description":"每页数量","default":50,"title":"Page Size"},"description":"每页数量"},{"name":"search","in":"query","required":false,"schema":{"type":"string","description":"搜索关键词","default":"","title":"Search"},"description":"搜索关键词"},{"name":"emotion_filter","in":"query","required":false,"schema":{"type":"string","description":"情感筛选","default":"","title":"Emotion Filter"},"description":"情感筛选"},{"name":"sort_by","in":"query","required":false,"schema":{"type":"string","description":"排序字段","default":"record_time","title":"Sort By"},"description":"排序字段"},{"name":"sort_order","in":"query","required":false,"schema":{"type":"string","description":"排序方向","default":"desc","title":"Sort Order"},"description":"排序方向"},{"name":"is_registered","in":"query","required":false,"schema":{"anyOf":[{"type":"boolean"},{"type":"null"}],"description":"注册状态筛选","title":"Is Registered"},"description":"注册状态筛选"},{"name":"is_banned","in":"query","required":false,"schema":{"anyOf":[{"type":"boolean"},{"type":"null"}],"description":"禁用状态筛选","title":"Is Banned"},"description":"禁用状态筛选"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/plugins/webui_backend/emoji/{emoji_hash}":{"get":{"tags":["webui_backend"],"summary":"获取表情包详情","description":"根据哈希值获取表情包完整信息","operationId":"get_emoji_detail_plugins_webui_backend_emoji__emoji_hash__get","security":[{"APIKeyHeader":[]}],"parameters":[{"name":"emoji_hash","in":"path","required":true,"schema":{"type":"string","title":"Emoji Hash"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["webui_backend"],"summary":"删除表情包","description":"根据哈希值删除表情包","operationId":"delete_emoji_plugins_webui_backend_emoji__emoji_hash__delete","security":[{"APIKeyHeader":[]}],"parameters":[{"name":"emoji_hash","in":"path","required":true,"schema":{"type":"string","title":"Emoji Hash"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"patch":{"tags":["webui_backend"],"summary":"更新表情包信息","description":"更新表情包的描述、情感标签或禁用状态","operationId":"update_emoji_plugins_webui_backend_emoji__emoji_hash__patch","security":[{"APIKeyHeader":[]}],"parameters":[{"name":"emoji_hash","in":"path","required":true,"schema":{"type":"string","title":"Emoji Hash"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/EmojiUpdateRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/plugins/webui_backend/emoji/upload":{"post":{"tags":["webui_backend"],"summary":"上传表情包","description":"批量上传表情包文件","operationId":"upload_emoji_plugins_webui_backend_emoji_upload_post","requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_upload_emoji_plugins_webui_backend_emoji_upload_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"APIKeyHeader":[]}]}},"/plugins/webui_backend/emoji/batch":{"post":{"tags":["webui_backend"],"summary":"批量操作表情包","description":"批量删除、禁用或启用表情包","operationId":"batch_operation_plugins_webui_backend_emoji_batch_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/plugins__backend__routers__emoji_manager_router__BatchOperationRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"APIKeyHeader":[]}]}},"/plugins/webui_backend/emoji/stats":{"get":{"tags":["webui_backend"],"summary":"获取表情包统计","description":"获取表情包的统计信息，包括总数、使用情况等","operationId":"get_emoji_stats_plugins_webui_backend_emoji_stats_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"APIKeyHeader":[]}]}},"/plugins/webui_backend/chatroom/messages":{"get":{"tags":["webui_backend"],"summary":"Get Messages","description":"获取历史消息\n\nArgs:\n    limit: 限制返回的消息数量\n    before_timestamp: 获取此时间之前的消息","operationId":"get_messages_plugins_webui_backend_chatroom_messages_get","parameters":[{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":100,"title":"Limit"}},{"name":"before_timestamp","in":"query","required":false,"schema":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Before Timestamp"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/plugins/webui_backend/chatroom/send":{"post":{"tags":["webui_backend"],"summary":"Send Message","description":"发送消息\n\nArgs:\n    request: 发送消息请求","operationId":"send_message_plugins_webui_backend_chatroom_send_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SendMessageRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/plugins/webui_backend/chatroom/users":{"get":{"tags":["webui_backend"],"summary":"Get Users","description":"获取所有虚拟用户","operationId":"get_users_plugins_webui_backend_chatroom_users_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}},"post":{"tags":["webui_backend"],"summary":"Create User","description":"创建虚拟用户","operationId":"create_user_plugins_webui_backend_chatroom_users_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateUserRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/plugins/webui_backend/chatroom/users/{user_id}":{"get":{"tags":["webui_backend"],"summary":"Get User","description":"获取单个虚拟用户","operationId":"get_user_plugins_webui_backend_chatroom_users__user_id__get","parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"string","title":"User Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["webui_backend"],"summary":"Update User","description":"更新虚拟用户","operationId":"update_user_plugins_webui_backend_chatroom_users__user_id__put","parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"string","title":"User Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateUserRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["webui_backend"],"summary":"Delete User","description":"删除虚拟用户","operationId":"delete_user_plugins_webui_backend_chatroom_users__user_id__delete","parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"string","title":"User Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/plugins/webui_backend/chatroom/settings":{"get":{"tags":["webui_backend"],"summary":"Get Settings","description":"获取聊天室设置","operationId":"get_settings_plugins_webui_backend_chatroom_settings_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/plugins/webui_backend/chatroom/poll":{"get":{"tags":["webui_backend"],"summary":"Poll Messages","description":"轮询获取新的AI回复消息","operationId":"poll_messages_plugins_webui_backend_chatroom_poll_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/plugins/webui_backend/chatroom/messages/{message_id}":{"get":{"tags":["webui_backend"],"summary":"Get Message","description":"获取单条消息（用于查询引用的消息）","operationId":"get_message_plugins_webui_backend_chatroom_messages__message_id__get","parameters":[{"name":"message_id","in":"path","required":true,"schema":{"type":"string","title":"Message Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/plugins/webui_backend/chatroom/copyable_users":{"get":{"tags":["webui_backend"],"summary":"Get Copyable Users","description":"获取可复制的用户列表","operationId":"get_copyable_users_plugins_webui_backend_chatroom_copyable_users_get","parameters":[{"name":"platform","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Platform"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/plugins/webui_backend/chatroom/users/{user_id}/reset":{"post":{"tags":["webui_backend"],"summary":"Reset User Relationship","description":"重置用户关系","operationId":"reset_user_relationship_plugins_webui_backend_chatroom_users__user_id__reset_post","parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"string","title":"User Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/plugins/webui_backend/model/test-model":{"post":{"tags":["webui_backend"],"summary":"测试模型连通性","description":"测试指定模型的连通性\n\nArgs:\n    request: 包含模型名称的请求\n\n返回：\n- 连接状态\n- 响应时间\n- 测试响应内容","operationId":"test_model_connection_plugins_webui_backend_model_test_model_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ModelTestRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"APIKeyHeader":[]}]}},"/plugins/webui_backend/model/get-models":{"post":{"tags":["webui_backend"],"summary":"获取可用模型列表","description":"根据提供商类型获取可用的模型列表\n\nArgs:\n    request: 包含提供商信息的请求\n\n返回：\n- 模型列表","operationId":"get_available_models_plugins_webui_backend_model_get_models_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/GetModelsRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"APIKeyHeader":[]}]}},"/plugins/webui_backend/setting/wallpaper":{"post":{"tags":["webui_backend"],"summary":"上传壁纸","description":"上传WebUI壁纸","operationId":"upload_wallpaper_plugins_webui_backend_setting_wallpaper_post","requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_upload_wallpaper_plugins_webui_backend_setting_wallpaper_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/WallpaperResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"APIKeyHeader":[]}]},"delete":{"tags":["webui_backend"],"summary":"删除壁纸","description":"删除当前壁纸","operationId":"delete_wallpaper_plugins_webui_backend_setting_wallpaper_delete","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"APIKeyHeader":[]}]}},"/plugins/webui_backend/setting/wallpaper/image":{"get":{"tags":["webui_backend"],"summary":"获取壁纸图片","description":"获取当前壁纸图片文件","operationId":"get_wallpaper_image_plugins_webui_backend_setting_wallpaper_image_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}}},"components":{"schemas":{"BatchDeleteRequest":{"properties":{"expression_ids":{"items":{"type":"integer"},"type":"array","title":"Expression Ids","description":"要删除的表达方式ID列表"}},"type":"object","required":["expression_ids"],"title":"BatchDeleteRequest","description":"批量删除请求"},"BatchOperationResponse":{"properties":{"success":{"type":"boolean","title":"Success"},"results":{"additionalProperties":{"additionalProperties":true,"type":"object"},"type":"object","title":"Results"},"total":{"type":"integer","title":"Total"},"succeeded":{"type":"integer","title":"Succeeded"},"failed":{"type":"integer","title":"Failed"}},"type":"object","required":["success","results","total","succeeded","failed"],"title":"BatchOperationResponse","description":"批量操作响应"},"Body_upload_emoji_plugins_webui_backend_emoji_upload_post":{"properties":{"files":{"items":{"type":"string","format":"binary"},"type":"array","title":"Files"}},"type":"object","required":["files"],"title":"Body_upload_emoji_plugins_webui_backend_emoji_upload_post"},"Body_upload_wallpaper_plugins_webui_backend_setting_wallpaper_post":{"properties":{"file":{"type":"string","format":"binary","title":"File"}},"type":"object","required":["file"],"title":"Body_upload_wallpaper_plugins_webui_backend_setting_wallpaper_post"},"ChatStatsResponse":{"properties":{"total_streams":{"type":"integer","title":"Total Streams"},"group_streams":{"type":"integer","title":"Group Streams"},"private_streams":{"type":"integer","title":"Private Streams"},"qq_streams":{"type":"integer","title":"Qq Streams"}},"type":"object","required":["total_streams","group_streams","private_streams","qq_streams"],"title":"ChatStatsResponse","description":"聊天流统计响应"},"CheckUpdatesResponse":{"properties":{"success":{"type":"boolean","title":"Success"},"data":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Data"},"error":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Error"}},"type":"object","required":["success"],"title":"CheckUpdatesResponse","description":"检查更新响应"},"ComponentItemResponse":{"properties":{"name":{"type":"string","title":"Name"},"type":{"type":"string","title":"Type"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"enabled":{"type":"boolean","title":"Enabled"},"plugin_name":{"type":"string","title":"Plugin Name"},"details":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Details"}},"type":"object","required":["name","type","enabled","plugin_name"],"title":"ComponentItemResponse","description":"组件项"},"ComponentStatsResponse":{"properties":{"total":{"type":"integer","title":"Total"},"enabled":{"type":"integer","title":"Enabled"},"disabled":{"type":"integer","title":"Disabled"},"by_type":{"additionalProperties":{"additionalProperties":{"type":"integer"},"type":"object"},"type":"object","title":"By Type"}},"type":"object","required":["total","enabled","disabled","by_type"],"title":"ComponentStatsResponse","description":"组件统计响应"},"ComponentsResponse":{"properties":{"success":{"type":"boolean","title":"Success"},"plugin_name":{"type":"string","title":"Plugin Name"},"components":{"items":{"$ref":"#/components/schemas/ComponentItemResponse"},"type":"array","title":"Components"},"total":{"type":"integer","title":"Total"},"enabled":{"type":"integer","title":"Enabled"},"disabled":{"type":"integer","title":"Disabled"},"error":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Error"}},"type":"object","required":["success","plugin_name","components","total","enabled","disabled"],"title":"ComponentsResponse","description":"组件列表响应"},"ConfigFileInfo":{"properties":{"name":{"type":"string","title":"Name"},"display_name":{"type":"string","title":"Display Name"},"path":{"type":"string","title":"Path"},"type":{"type":"string","title":"Type"},"plugin_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Plugin Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"last_modified":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Last Modified"}},"type":"object","required":["name","display_name","path","type"],"title":"ConfigFileInfo","description":"配置文件信息"},"ConfigListResponse":{"properties":{"configs":{"items":{"$ref":"#/components/schemas/ConfigFileInfo"},"type":"array","title":"Configs"},"total":{"type":"integer","title":"Total"}},"type":"object","required":["configs","total"],"title":"ConfigListResponse","description":"配置文件列表响应"},"CreateExpressionRequest":{"properties":{"situation":{"type":"string","maxLength":200,"minLength":1,"title":"Situation","description":"情境描述"},"style":{"type":"string","maxLength":200,"minLength":1,"title":"Style","description":"表达风格"},"chat_id":{"type":"string","title":"Chat Id","description":"聊天流ID"},"type":{"type":"string","enum":["style","grammar"],"title":"Type","description":"类型","default":"style"},"count":{"type":"number","maximum":5.0,"minimum":0.0,"title":"Count","description":"权重","default":1.0}},"type":"object","required":["situation","style","chat_id"],"title":"CreateExpressionRequest","description":"创建表达方式请求"},"CreateUserRequest":{"properties":{"user_id":{"type":"string","title":"User Id"},"nickname":{"type":"string","title":"Nickname"},"impression":{"type":"string","title":"Impression","default":""},"short_impression":{"type":"string","title":"Short Impression","default":""},"avatar":{"type":"string","title":"Avatar","default":""},"attitude":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Attitude"},"memory_points":{"items":{"$ref":"#/components/schemas/MemoryPoint"},"type":"array","title":"Memory Points","default":[]}},"type":"object","required":["user_id","nickname"],"title":"CreateUserRequest","description":"创建用户请求"},"DashboardOverviewResponse":{"properties":{"plugins":{"$ref":"#/components/schemas/PluginStatsResponse"},"components":{"$ref":"#/components/schemas/ComponentStatsResponse"},"chats":{"$ref":"#/components/schemas/ChatStatsResponse"},"system":{"$ref":"#/components/schemas/SystemStatsResponse"}},"type":"object","required":["plugins","components","chats","system"],"title":"DashboardOverviewResponse","description":"仪表盘总览响应"},"EmojiUpdateRequest":{"properties":{"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"emotions":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Emotions"},"is_banned":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Is Banned"}},"type":"object","title":"EmojiUpdateRequest","description":"表情包更新请求模型"},"GetModelsRequest":{"properties":{"provider_name":{"type":"string","title":"Provider Name"},"base_url":{"type":"string","title":"Base Url"},"api_key":{"type":"string","title":"Api Key"},"client_type":{"type":"string","title":"Client Type","default":"openai"}},"type":"object","required":["provider_name","base_url","api_key"],"title":"GetModelsRequest","description":"获取模型列表请求"},"GitCheckUpdateResponse":{"properties":{"success":{"type":"boolean","title":"Success"},"has_update":{"type":"boolean","title":"Has Update","default":false},"current_commit":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Current Commit"},"remote_commit":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Remote Commit"},"commits_behind":{"type":"integer","title":"Commits Behind","default":0},"update_logs":{"items":{},"type":"array","title":"Update Logs","default":[]},"branch":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Branch"},"error":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Error"}},"type":"object","required":["success"],"title":"GitCheckUpdateResponse","description":"检查更新响应"},"GitInstallResponse":{"properties":{"success":{"type":"boolean","title":"Success"},"message":{"type":"string","title":"Message"},"install_path":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Install Path"},"error":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Error"}},"type":"object","required":["success","message"],"title":"GitInstallResponse","description":"Git 安装响应"},"GitRollbackRequest":{"properties":{"commit_hash":{"type":"string","title":"Commit Hash"}},"type":"object","required":["commit_hash"],"title":"GitRollbackRequest","description":"回滚请求"},"GitSetPathRequest":{"properties":{"path":{"type":"string","title":"Path"}},"type":"object","required":["path"],"title":"GitSetPathRequest","description":"设置 Git 路径请求"},"GitSetPathResponse":{"properties":{"success":{"type":"boolean","title":"Success"},"message":{"type":"string","title":"Message"},"git_path":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Git Path"},"git_version":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Git Version"},"error":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Error"}},"type":"object","required":["success","message"],"title":"GitSetPathResponse","description":"设置 Git 路径响应"},"GitStatusResponse":{"properties":{"git_available":{"type":"boolean","title":"Git Available"},"git_version":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Git Version"},"git_path":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Git Path"},"git_source":{"type":"string","title":"Git Source","default":"unknown"},"is_portable":{"type":"boolean","title":"Is Portable","default":false},"system_os":{"type":"string","title":"System Os"},"is_git_repo":{"type":"boolean","title":"Is Git Repo","default":false},"current_branch":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Current Branch"},"available_branches":{"items":{"type":"string"},"type":"array","title":"Available Branches","default":[]}},"type":"object","required":["git_available","system_os"],"title":"GitStatusResponse","description":"Git 状态响应"},"GitSwitchBranchRequest":{"properties":{"branch":{"type":"string","title":"Branch"}},"type":"object","required":["branch"],"title":"GitSwitchBranchRequest","description":"切换分支请求"},"GitSwitchBranchResponse":{"properties":{"success":{"type":"boolean","title":"Success"},"message":{"type":"string","title":"Message"},"current_branch":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Current Branch"},"error":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Error"},"dependencies_installed":{"type":"boolean","title":"Dependencies Installed","default":false},"dependencies_message":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Dependencies Message"},"venv_type":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Venv Type"}},"type":"object","required":["success","message"],"title":"GitSwitchBranchResponse","description":"切换分支响应"},"GitUpdateRequest":{"properties":{"force":{"type":"boolean","title":"Force","default":false},"stash_local":{"type":"boolean","title":"Stash Local","default":true},"create_backup":{"type":"boolean","title":"Create Backup","default":true}},"type":"object","title":"GitUpdateRequest","description":"更新请求"},"GitUpdateResponse":{"properties":{"success":{"type":"boolean","title":"Success"},"message":{"type":"string","title":"Message"},"updated_files":{"items":{},"type":"array","title":"Updated Files","default":[]},"backup_commit":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Backup Commit"},"error":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Error"},"dependencies_installed":{"type":"boolean","title":"Dependencies Installed","default":false},"dependencies_message":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Dependencies Message"},"venv_type":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Venv Type"}},"type":"object","required":["success","message"],"title":"GitUpdateResponse","description":"更新响应"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"ImportExpressionsRequest":{"properties":{"data":{"type":"string","title":"Data","description":"导入数据内容"},"format":{"type":"string","enum":["json","csv"],"title":"Format","description":"数据格式","default":"json"},"chat_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Chat Id","description":"目标聊天流ID"},"merge_strategy":{"type":"string","enum":["skip","replace","merge"],"title":"Merge Strategy","description":"合并策略","default":"skip"}},"type":"object","required":["data"],"title":"ImportExpressionsRequest","description":"导入表达方式请求"},"InstallPluginRequest":{"properties":{"plugin_id":{"type":"string","title":"Plugin Id"},"repository_url":{"type":"string","title":"Repository Url"},"auto_load":{"type":"boolean","title":"Auto Load","default":true}},"type":"object","required":["plugin_id","repository_url"],"title":"InstallPluginRequest","description":"安装插件请求"},"InstallPluginResponse":{"properties":{"success":{"type":"boolean","title":"Success"},"message":{"type":"string","title":"Message"},"plugin_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Plugin Name"},"loaded":{"type":"boolean","title":"Loaded","default":false}},"type":"object","required":["success","message"],"title":"InstallPluginResponse","description":"安装插件响应"},"LogEntryResponse":{"properties":{"timestamp":{"type":"string","title":"Timestamp"},"level":{"type":"string","title":"Level"},"logger_name":{"type":"string","title":"Logger Name"},"event":{"type":"string","title":"Event"},"color":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Color"},"alias":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Alias"},"extra":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Extra"},"line_number":{"type":"integer","title":"Line Number"},"file_name":{"type":"string","title":"File Name"}},"type":"object","required":["timestamp","level","logger_name","event","line_number","file_name"],"title":"LogEntryResponse","description":"日志条目响应"},"LogFileInfo":{"properties":{"name":{"type":"string","title":"Name"},"size":{"type":"integer","title":"Size"},"size_human":{"type":"string","title":"Size Human"},"mtime":{"type":"number","title":"Mtime"},"mtime_human":{"type":"string","title":"Mtime Human"},"compressed":{"type":"boolean","title":"Compressed"}},"type":"object","required":["name","size","size_human","mtime","mtime_human","compressed"],"title":"LogFileInfo","description":"日志文件信息"},"LogFilesResponse":{"properties":{"success":{"type":"boolean","title":"Success"},"files":{"items":{"$ref":"#/components/schemas/LogFileInfo"},"type":"array","title":"Files"}},"type":"object","required":["success","files"],"title":"LogFilesResponse","description":"日志文件列表响应"},"LogLoggersResponse":{"properties":{"success":{"type":"boolean","title":"Success"},"loggers":{"items":{"$ref":"#/components/schemas/LoggerInfo"},"type":"array","title":"Loggers"}},"type":"object","required":["success","loggers"],"title":"LogLoggersResponse","description":"Logger 列表响应"},"LogSearchResponse":{"properties":{"success":{"type":"boolean","title":"Success"},"entries":{"items":{"$ref":"#/components/schemas/LogEntryResponse"},"type":"array","title":"Entries"},"total":{"type":"integer","title":"Total"},"offset":{"type":"integer","title":"Offset"},"limit":{"type":"integer","title":"Limit"}},"type":"object","required":["success","entries","total","offset","limit"],"title":"LogSearchResponse","description":"日志搜索响应"},"LogStatsResponse":{"properties":{"success":{"type":"boolean","title":"Success"},"total":{"type":"integer","title":"Total"},"by_level":{"additionalProperties":{"type":"integer"},"type":"object","title":"By Level"},"by_logger":{"additionalProperties":{"type":"integer"},"type":"object","title":"By Logger"}},"type":"object","required":["success","total","by_level","by_logger"],"title":"LogStatsResponse","description":"日志统计响应"},"LoggerInfo":{"properties":{"name":{"type":"string","title":"Name"},"alias":{"type":"string","title":"Alias"},"color":{"type":"string","title":"Color"}},"type":"object","required":["name","alias","color"],"title":"LoggerInfo","description":"Logger 信息"},"LoginResponse":{"properties":{"success":{"type":"boolean","title":"Success"},"mmc":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Mmc"},"error":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Error"}},"type":"object","required":["success"],"title":"LoginResponse","description":"登录响应"},"MarketplaceListResponse":{"properties":{"success":{"type":"boolean","title":"Success"},"data":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Data"},"error":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Error"}},"type":"object","required":["success"],"title":"MarketplaceListResponse","description":"插件市场列表响应"},"MemoryPoint":{"properties":{"content":{"type":"string","title":"Content"},"weight":{"type":"number","title":"Weight","default":1.0}},"type":"object","required":["content"],"title":"MemoryPoint","description":"记忆点模型"},"ModelTestRequest":{"properties":{"model_name":{"type":"string","title":"Model Name"}},"type":"object","required":["model_name"],"title":"ModelTestRequest","description":"模型测试请求"},"ModelUsageStatsResponse":{"properties":{"stats":{"additionalProperties":{"additionalProperties":{"type":"integer"},"type":"object"},"type":"object","title":"Stats"}},"type":"object","required":["stats"],"title":"ModelUsageStatsResponse","description":"模型使用统计响应"},"OperationResponse":{"properties":{"success":{"type":"boolean","title":"Success"},"message":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Message"},"error":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Error"}},"type":"object","required":["success"],"title":"OperationResponse","description":"操作响应"},"PersonBasicInfoResponse":{"properties":{"person_id":{"type":"string","title":"Person Id"},"person_name":{"type":"string","title":"Person Name"},"nickname":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Nickname"},"know_times":{"type":"integer","title":"Know Times","default":0},"know_since":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Know Since"},"last_know":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Last Know"},"attitude":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Attitude"}},"type":"object","required":["person_id","person_name"],"title":"PersonBasicInfoResponse","description":"用户基础信息响应"},"PersonCardResponse":{"properties":{"person_id":{"type":"string","title":"Person Id"},"person_name":{"type":"string","title":"Person Name"},"nickname":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Nickname"},"relationship_score":{"type":"number","title":"Relationship Score","default":0.0},"relationship_text":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Relationship Text"},"short_impression":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Short Impression"},"know_times":{"type":"integer","title":"Know Times","default":0},"last_know":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Last Know"}},"type":"object","required":["person_id","person_name"],"title":"PersonCardResponse","description":"用户卡片信息响应（列表展示用）"},"PersonDetailResponse":{"properties":{"basic_info":{"$ref":"#/components/schemas/PersonBasicInfoResponse"},"relationship":{"$ref":"#/components/schemas/PersonRelationshipResponse"},"impression":{"type":"string","title":"Impression"},"short_impression":{"type":"string","title":"Short Impression"},"memory_points":{"items":{"additionalProperties":true,"type":"object"},"type":"array","title":"Memory Points"}},"type":"object","required":["basic_info","relationship","impression","short_impression","memory_points"],"title":"PersonDetailResponse","description":"用户详情响应"},"PersonListResponse":{"properties":{"persons":{"items":{"$ref":"#/components/schemas/PersonCardResponse"},"type":"array","title":"Persons"},"total":{"type":"integer","title":"Total"},"page":{"type":"integer","title":"Page"},"page_size":{"type":"integer","title":"Page Size"},"total_pages":{"type":"integer","title":"Total Pages"}},"type":"object","required":["persons","total","page","page_size","total_pages"],"title":"PersonListResponse","description":"用户列表响应"},"PersonRelationshipResponse":{"properties":{"person_id":{"type":"string","title":"Person Id"},"person_name":{"type":"string","title":"Person Name"},"relationship_score":{"type":"number","title":"Relationship Score"},"relationship_text":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Relationship Text"}},"type":"object","required":["person_id","person_name","relationship_score"],"title":"PersonRelationshipResponse","description":"用户关系响应"},"PluginItemResponse":{"properties":{"name":{"type":"string","title":"Name"},"display_name":{"type":"string","title":"Display Name"},"version":{"type":"string","title":"Version"},"author":{"type":"string","title":"Author"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"enabled":{"type":"boolean","title":"Enabled"},"loaded":{"type":"boolean","title":"Loaded"},"components_count":{"type":"integer","title":"Components Count"},"last_updated":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Last Updated"},"config_path":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Config Path"},"error":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Error"}},"type":"object","required":["name","display_name","version","author","enabled","loaded","components_count"],"title":"PluginItemResponse","description":"插件列表项"},"PluginStatsResponse":{"properties":{"loaded":{"type":"integer","title":"Loaded"},"registered":{"type":"integer","title":"Registered"},"failed":{"type":"integer","title":"Failed"},"enabled":{"type":"integer","title":"Enabled"},"disabled":{"type":"integer","title":"Disabled"}},"type":"object","required":["loaded","registered","failed","enabled","disabled"],"title":"PluginStatsResponse","description":"插件统计响应"},"RelationshipReportResponse":{"properties":{"person_id":{"type":"string","title":"Person Id"},"report":{"type":"string","title":"Report"}},"type":"object","required":["person_id","report"],"title":"RelationshipReportResponse","description":"关系报告响应"},"SaveConfigRequest":{"properties":{"content":{"type":"string","title":"Content"},"create_backup":{"type":"boolean","title":"Create Backup","default":true}},"type":"object","required":["content"],"title":"SaveConfigRequest","description":"保存配置请求"},"ScanRequest":{"properties":{"load_after_register":{"type":"boolean","title":"Load After Register","default":true}},"type":"object","title":"ScanRequest","description":"扫描请求"},"ScanResultResponse":{"properties":{"success":{"type":"boolean","title":"Success"},"registered":{"type":"integer","title":"Registered"},"loaded":{"type":"integer","title":"Loaded"},"failed":{"type":"integer","title":"Failed"},"new_plugins":{"items":{"type":"string"},"type":"array","title":"New Plugins"},"error":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Error"}},"type":"object","required":["success","registered","loaded","failed","new_plugins"],"title":"ScanResultResponse","description":"扫描结果响应"},"SendMessageRequest":{"properties":{"user_id":{"type":"string","title":"User Id"},"content":{"type":"string","title":"Content"},"message_type":{"type":"string","title":"Message Type","default":"text"},"reply_to":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Reply To"}},"type":"object","required":["user_id","content"],"title":"SendMessageRequest","description":"发送消息请求"},"SystemStatsResponse":{"properties":{"uptime_seconds":{"type":"number","title":"Uptime Seconds"},"memory_usage_mb":{"type":"number","title":"Memory Usage Mb"},"cpu_percent":{"type":"number","title":"Cpu Percent"}},"type":"object","required":["uptime_seconds","memory_usage_mb","cpu_percent"],"title":"SystemStatsResponse","description":"系统统计响应"},"UpdateConfigRequest":{"properties":{"updates":{"additionalProperties":true,"type":"object","title":"Updates"},"create_backup":{"type":"boolean","title":"Create Backup","default":true}},"type":"object","required":["updates"],"title":"UpdateConfigRequest","description":"更新配置请求（可视化编辑用）"},"UpdateExpressionRequest":{"properties":{"situation":{"anyOf":[{"type":"string","maxLength":200,"minLength":1},{"type":"null"}],"title":"Situation","description":"情境描述"},"style":{"anyOf":[{"type":"string","maxLength":200,"minLength":1},{"type":"null"}],"title":"Style","description":"表达风格"},"count":{"anyOf":[{"type":"number","maximum":5.0,"minimum":0.0},{"type":"null"}],"title":"Count","description":"权重"},"type":{"anyOf":[{"type":"string","enum":["style","grammar"]},{"type":"null"}],"title":"Type","description":"类型"}},"type":"object","title":"UpdateExpressionRequest","description":"更新表达方式请求"},"UpdateImpressionRequest":{"properties":{"impression":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Impression","description":"详细印象"},"short_impression":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Short Impression","description":"简短印象"}},"type":"object","title":"UpdateImpressionRequest","description":"更新印象请求"},"UpdatePluginResponse":{"properties":{"success":{"type":"boolean","title":"Success"},"message":{"type":"string","title":"Message"}},"type":"object","required":["success","message"],"title":"UpdatePluginResponse","description":"更新插件响应"},"UpdateRelationshipRequest":{"properties":{"relationship_score":{"type":"number","maximum":1.0,"minimum":0.0,"title":"Relationship Score","description":"关系分数 (0.0 - 1.0)"},"relationship_text":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Relationship Text","description":"关系描述文本"}},"type":"object","required":["relationship_score"],"title":"UpdateRelationshipRequest","description":"更新关系请求"},"UpdateRelationshipResponse":{"properties":{"success":{"type":"boolean","title":"Success"},"message":{"type":"string","title":"Message"}},"type":"object","required":["success","message"],"title":"UpdateRelationshipResponse","description":"更新关系响应"},"UpdateUserRequest":{"properties":{"nickname":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Nickname"},"impression":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Impression"},"short_impression":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Short Impression"},"avatar":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Avatar"},"attitude":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Attitude"},"memory_points":{"anyOf":[{"items":{"$ref":"#/components/schemas/MemoryPoint"},"type":"array"},{"type":"null"}],"title":"Memory Points"}},"type":"object","title":"UpdateUserRequest","description":"更新用户请求"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"},"WallpaperResponse":{"properties":{"success":{"type":"boolean","title":"Success"},"url":{"type":"string","title":"Url"},"message":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Message"}},"type":"object","required":["success","url"],"title":"WallpaperResponse","description":"壁纸上传响应"},"plugins__backend__routers__emoji_manager_router__BatchOperationRequest":{"properties":{"action":{"type":"string","title":"Action","description":"操作类型: delete, ban, unban"},"emoji_hashes":{"items":{"type":"string"},"type":"array","title":"Emoji Hashes","description":"表情包哈希列表"}},"type":"object","required":["action","emoji_hashes"],"title":"BatchOperationRequest","description":"批量操作请求模型"},"plugins__backend__routers__marketplace_router__PluginDetailResponse":{"properties":{"success":{"type":"boolean","title":"Success"},"data":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Data"},"error":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Error"}},"type":"object","required":["success"],"title":"PluginDetailResponse","description":"插件详情响应"},"plugins__backend__routers__plugin_router__BatchOperationRequest":{"properties":{"plugin_names":{"items":{"type":"string"},"type":"array","title":"Plugin Names"}},"type":"object","required":["plugin_names"],"title":"BatchOperationRequest","description":"批量操作请求"},"plugins__backend__routers__plugin_router__PluginDetailResponse":{"properties":{"success":{"type":"boolean","title":"Success"},"plugin":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Plugin"},"error":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Error"}},"type":"object","required":["success"],"title":"PluginDetailResponse","description":"插件详情响应"},"plugins__backend__routers__plugin_router__PluginListResponse":{"properties":{"success":{"type":"boolean","title":"Success"},"plugins":{"items":{"$ref":"#/components/schemas/PluginItemResponse"},"type":"array","title":"Plugins"},"failed_plugins":{"items":{"$ref":"#/components/schemas/PluginItemResponse"},"type":"array","title":"Failed Plugins","default":[]},"total":{"type":"integer","title":"Total"},"loaded":{"type":"integer","title":"Loaded"},"enabled":{"type":"integer","title":"Enabled"},"failed":{"type":"integer","title":"Failed"},"error":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Error"}},"type":"object","required":["success","plugins","total","loaded","enabled","failed"],"title":"PluginListResponse","description":"插件列表响应"},"plugins__backend__routers__stats_router__PluginDetailResponse":{"properties":{"name":{"type":"string","title":"Name"},"display_name":{"type":"string","title":"Display Name"},"version":{"type":"string","title":"Version"},"author":{"type":"string","title":"Author"},"enabled":{"type":"boolean","title":"Enabled"},"components_count":{"type":"integer","title":"Components Count"}},"type":"object","required":["name","display_name","version","author","enabled","components_count"],"title":"PluginDetailResponse","description":"插件详情响应"},"plugins__backend__routers__stats_router__PluginListResponse":{"properties":{"plugins":{"items":{"$ref":"#/components/schemas/plugins__backend__routers__stats_router__PluginDetailResponse"},"type":"array","title":"Plugins"},"total":{"type":"integer","title":"Total"}},"type":"object","required":["plugins","total"],"title":"PluginListResponse","description":"插件列表响应"}},"securitySchemes":{"APIKeyHeader":{"type":"apiKey","in":"header","name":"X-API-Key"}}}}