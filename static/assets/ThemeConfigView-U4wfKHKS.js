import{a4 as At,a5 as Et,a6 as Bt,a7 as Lt,a8 as Dt,a9 as _t,d as St,E as Gt,z as V,c as gt,aa as vt,o as Tt,A as Nt,ab as pt,ac as ft,ad as q,l as T,q as a,j as zt,ae as dt,m as tt,C as j,u as A,r as Ut,v as J,F as xt,D as wt,B as st,k as Ft,p as ct,O as nt,P as at,T as $t,af as Ht,ag as Vt,y as N,_ as qt}from"./index-qdINuU9g.js";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{fromInt(t){return At(t)}toInt(t){return Et(t[0],t[1],t[2])}distance(t,e){const r=t[0]-e[0],i=t[1]-e[1],c=t[2]-e[2];return r*r+i*i+c*c}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wt=10,Ot=3;class Xt{static quantize(t,e,r){const i=new Map,c=new Array,w=new Array,g=new Pt;let I=0;for(let l=0;l<t.length;l++){const p=t[l],M=i.get(p);M===void 0?(I++,c.push(g.fromInt(p)),w.push(p),i.set(p,1)):i.set(p,M+1)}const E=new Array;for(let l=0;l<I;l++){const p=w[l],M=i.get(p);M!==void 0&&(E[l]=M)}let u=Math.min(r,I);e.length>0&&(u=Math.min(u,e.length));const f=new Array;for(let l=0;l<e.length;l++)f.push(g.fromInt(e[l]));const h=u-f.length;if(e.length===0&&h>0)for(let l=0;l<h;l++){const p=Math.random()*100,M=Math.random()*201+-100,U=Math.random()*201+-100;f.push(new Array(p,M,U))}const d=new Array;for(let l=0;l<I;l++)d.push(Math.floor(Math.random()*u));const k=new Array;for(let l=0;l<u;l++){k.push(new Array);for(let p=0;p<u;p++)k[l].push(0)}const y=new Array;for(let l=0;l<u;l++){y.push(new Array);for(let p=0;p<u;p++)y[l].push(new jt)}const B=new Array;for(let l=0;l<u;l++)B.push(0);for(let l=0;l<Wt;l++){for(let m=0;m<u;m++){for(let x=m+1;x<u;x++){const S=g.distance(f[m],f[x]);y[x][m].distance=S,y[x][m].index=m,y[m][x].distance=S,y[m][x].index=x}y[m].sort();for(let x=0;x<u;x++)k[m][x]=y[m][x].index}let p=0;for(let m=0;m<I;m++){const x=c[m],S=d[m],G=f[S],P=g.distance(x,G);let Y=P,Z=-1;for(let H=0;H<u;H++){if(y[S][H].distance>=4*P)continue;const Q=g.distance(x,f[H]);Q<Y&&(Y=Q,Z=H)}Z!==-1&&Math.abs(Math.sqrt(Y)-Math.sqrt(P))>Ot&&(p++,d[m]=Z)}if(p===0&&l!==0)break;const M=new Array(u).fill(0),U=new Array(u).fill(0),$=new Array(u).fill(0);for(let m=0;m<u;m++)B[m]=0;for(let m=0;m<I;m++){const x=d[m],S=c[m],G=E[m];B[x]+=G,M[x]+=S[0]*G,U[x]+=S[1]*G,$[x]+=S[2]*G}for(let m=0;m<u;m++){const x=B[m];if(x===0){f[m]=[0,0,0];continue}const S=M[m]/x,G=U[m]/x,P=$[m]/x;f[m]=[S,G,P]}}const D=new Map;for(let l=0;l<u;l++){const p=B[l];if(p===0)continue;const M=g.toInt(f[l]);D.has(M)||D.set(M,p)}return D}}class jt{constructor(){this.distance=-1,this.index=-1}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{static quantize(t){const e=new Map;for(let r=0;r<t.length;r++){const i=t[r];Bt(i)<255||e.set(i,(e.get(i)??0)+1)}return e}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rt=5,z=33,et=35937,_={RED:"red",GREEN:"green",BLUE:"blue"};class Yt{constructor(t=[],e=[],r=[],i=[],c=[],w=[]){this.weights=t,this.momentsR=e,this.momentsG=r,this.momentsB=i,this.moments=c,this.cubes=w}quantize(t,e){this.constructHistogram(t),this.computeMoments();const r=this.createBoxes(e);return this.createResult(r.resultCount)}constructHistogram(t){this.weights=Array.from({length:et}).fill(0),this.momentsR=Array.from({length:et}).fill(0),this.momentsG=Array.from({length:et}).fill(0),this.momentsB=Array.from({length:et}).fill(0),this.moments=Array.from({length:et}).fill(0);const e=Qt.quantize(t);for(const[r,i]of e.entries()){const c=Lt(r),w=Dt(r),g=_t(r),I=8-rt,E=(c>>I)+1,u=(w>>I)+1,f=(g>>I)+1,h=this.getIndex(E,u,f);this.weights[h]=(this.weights[h]??0)+i,this.momentsR[h]+=i*c,this.momentsG[h]+=i*w,this.momentsB[h]+=i*g,this.moments[h]+=i*(c*c+w*w+g*g)}}computeMoments(){for(let t=1;t<z;t++){const e=Array.from({length:z}).fill(0),r=Array.from({length:z}).fill(0),i=Array.from({length:z}).fill(0),c=Array.from({length:z}).fill(0),w=Array.from({length:z}).fill(0);for(let g=1;g<z;g++){let I=0,E=0,u=0,f=0,h=0;for(let d=1;d<z;d++){const k=this.getIndex(t,g,d);I+=this.weights[k],E+=this.momentsR[k],u+=this.momentsG[k],f+=this.momentsB[k],h+=this.moments[k],e[d]+=I,r[d]+=E,i[d]+=u,c[d]+=f,w[d]+=h;const y=this.getIndex(t-1,g,d);this.weights[k]=this.weights[y]+e[d],this.momentsR[k]=this.momentsR[y]+r[d],this.momentsG[k]=this.momentsG[y]+i[d],this.momentsB[k]=this.momentsB[y]+c[d],this.moments[k]=this.moments[y]+w[d]}}}}createBoxes(t){this.cubes=Array.from({length:t}).fill(0).map(()=>new Zt);const e=Array.from({length:t}).fill(0);this.cubes[0].r0=0,this.cubes[0].g0=0,this.cubes[0].b0=0,this.cubes[0].r1=z-1,this.cubes[0].g1=z-1,this.cubes[0].b1=z-1;let r=t,i=0;for(let c=1;c<t;c++){this.cut(this.cubes[i],this.cubes[c])?(e[i]=this.cubes[i].vol>1?this.variance(this.cubes[i]):0,e[c]=this.cubes[c].vol>1?this.variance(this.cubes[c]):0):(e[i]=0,c--),i=0;let w=e[0];for(let g=1;g<=c;g++)e[g]>w&&(w=e[g],i=g);if(w<=0){r=c+1;break}}return new Jt(t,r)}createResult(t){const e=[];for(let r=0;r<t;++r){const i=this.cubes[r],c=this.volume(i,this.weights);if(c>0){const w=Math.round(this.volume(i,this.momentsR)/c),g=Math.round(this.volume(i,this.momentsG)/c),I=Math.round(this.volume(i,this.momentsB)/c),E=255<<24|(w&255)<<16|(g&255)<<8|I&255;e.push(E)}}return e}variance(t){const e=this.volume(t,this.momentsR),r=this.volume(t,this.momentsG),i=this.volume(t,this.momentsB),c=this.moments[this.getIndex(t.r1,t.g1,t.b1)]-this.moments[this.getIndex(t.r1,t.g1,t.b0)]-this.moments[this.getIndex(t.r1,t.g0,t.b1)]+this.moments[this.getIndex(t.r1,t.g0,t.b0)]-this.moments[this.getIndex(t.r0,t.g1,t.b1)]+this.moments[this.getIndex(t.r0,t.g1,t.b0)]+this.moments[this.getIndex(t.r0,t.g0,t.b1)]-this.moments[this.getIndex(t.r0,t.g0,t.b0)],w=e*e+r*r+i*i,g=this.volume(t,this.weights);return c-w/g}cut(t,e){const r=this.volume(t,this.momentsR),i=this.volume(t,this.momentsG),c=this.volume(t,this.momentsB),w=this.volume(t,this.weights),g=this.maximize(t,_.RED,t.r0+1,t.r1,r,i,c,w),I=this.maximize(t,_.GREEN,t.g0+1,t.g1,r,i,c,w),E=this.maximize(t,_.BLUE,t.b0+1,t.b1,r,i,c,w);let u;const f=g.maximum,h=I.maximum,d=E.maximum;if(f>=h&&f>=d){if(g.cutLocation<0)return!1;u=_.RED}else h>=f&&h>=d?u=_.GREEN:u=_.BLUE;switch(e.r1=t.r1,e.g1=t.g1,e.b1=t.b1,u){case _.RED:t.r1=g.cutLocation,e.r0=t.r1,e.g0=t.g0,e.b0=t.b0;break;case _.GREEN:t.g1=I.cutLocation,e.r0=t.r0,e.g0=t.g1,e.b0=t.b0;break;case _.BLUE:t.b1=E.cutLocation,e.r0=t.r0,e.g0=t.g0,e.b0=t.b1;break;default:throw new Error("unexpected direction "+u)}return t.vol=(t.r1-t.r0)*(t.g1-t.g0)*(t.b1-t.b0),e.vol=(e.r1-e.r0)*(e.g1-e.g0)*(e.b1-e.b0),!0}maximize(t,e,r,i,c,w,g,I){const E=this.bottom(t,e,this.momentsR),u=this.bottom(t,e,this.momentsG),f=this.bottom(t,e,this.momentsB),h=this.bottom(t,e,this.weights);let d=0,k=-1,y=0,B=0,D=0,l=0;for(let p=r;p<i;p++){if(y=E+this.top(t,e,p,this.momentsR),B=u+this.top(t,e,p,this.momentsG),D=f+this.top(t,e,p,this.momentsB),l=h+this.top(t,e,p,this.weights),l===0)continue;let M=(y*y+B*B+D*D)*1,U=l*1,$=M/U;y=c-y,B=w-B,D=g-D,l=I-l,l!==0&&(M=(y*y+B*B+D*D)*1,U=l*1,$+=M/U,$>d&&(d=$,k=p))}return new Kt(k,d)}volume(t,e){return e[this.getIndex(t.r1,t.g1,t.b1)]-e[this.getIndex(t.r1,t.g1,t.b0)]-e[this.getIndex(t.r1,t.g0,t.b1)]+e[this.getIndex(t.r1,t.g0,t.b0)]-e[this.getIndex(t.r0,t.g1,t.b1)]+e[this.getIndex(t.r0,t.g1,t.b0)]+e[this.getIndex(t.r0,t.g0,t.b1)]-e[this.getIndex(t.r0,t.g0,t.b0)]}bottom(t,e,r){switch(e){case _.RED:return-r[this.getIndex(t.r0,t.g1,t.b1)]+r[this.getIndex(t.r0,t.g1,t.b0)]+r[this.getIndex(t.r0,t.g0,t.b1)]-r[this.getIndex(t.r0,t.g0,t.b0)];case _.GREEN:return-r[this.getIndex(t.r1,t.g0,t.b1)]+r[this.getIndex(t.r1,t.g0,t.b0)]+r[this.getIndex(t.r0,t.g0,t.b1)]-r[this.getIndex(t.r0,t.g0,t.b0)];case _.BLUE:return-r[this.getIndex(t.r1,t.g1,t.b0)]+r[this.getIndex(t.r1,t.g0,t.b0)]+r[this.getIndex(t.r0,t.g1,t.b0)]-r[this.getIndex(t.r0,t.g0,t.b0)];default:throw new Error("unexpected direction $direction")}}top(t,e,r,i){switch(e){case _.RED:return i[this.getIndex(r,t.g1,t.b1)]-i[this.getIndex(r,t.g1,t.b0)]-i[this.getIndex(r,t.g0,t.b1)]+i[this.getIndex(r,t.g0,t.b0)];case _.GREEN:return i[this.getIndex(t.r1,r,t.b1)]-i[this.getIndex(t.r1,r,t.b0)]-i[this.getIndex(t.r0,r,t.b1)]+i[this.getIndex(t.r0,r,t.b0)];case _.BLUE:return i[this.getIndex(t.r1,t.g1,r)]-i[this.getIndex(t.r1,t.g0,r)]-i[this.getIndex(t.r0,t.g1,r)]+i[this.getIndex(t.r0,t.g0,r)];default:throw new Error("unexpected direction $direction")}}getIndex(t,e,r){return(t<<rt*2)+(t<<rt+1)+t+(e<<rt)+e+r}}class Zt{constructor(t=0,e=0,r=0,i=0,c=0,w=0,g=0){this.r0=t,this.r1=e,this.g0=r,this.g1=i,this.b0=c,this.b1=w,this.vol=g}}class Jt{constructor(t,e){this.requestedCount=t,this.resultCount=e}}class Kt{constructor(t,e){this.cutLocation=t,this.maximum=e}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts{static quantize(t,e){const i=new Yt().quantize(t,e);return Xt.quantize(t,i,e)}}const ss={class:"theme-config-view"},es={class:"config-content"},os={class:"config-section"},ns={class:"wallpaper-upload"},as={key:0,class:"placeholder"},rs={class:"upload-controls"},is={key:0,class:"wallpaper-settings"},ls={class:"setting-row"},ds=["value"],cs={class:"setting-value"},hs={class:"setting-row"},us=["value"],ms={class:"setting-value"},gs={class:"config-section"},vs={class:"color-presets"},ps=["onClick","title"],fs={key:0,class:"material-symbols-rounded check-icon"},xs={class:"preset-label"},ws={key:0,class:"config-section"},bs={class:"color-presets"},ys=["onClick","title"],Cs={key:0,class:"material-symbols-rounded check-icon"},Is={class:"config-section"},ks={class:"mode-toggles"},Ms={class:"modal-body"},Rs={class:"hsv-picker"},As={class:"color-controls"},Es={class:"hex-input-wrapper"},Bs={class:"sliders-container"},Ls={class:"slider-row"},Ds={class:"slider-value"},_s={class:"slider-row"},Ss={class:"slider-value"},Gs={class:"slider-row"},Ts={class:"slider-value"},Ns=St({__name:"ThemeConfigView",setup(F){const t=Gt(),e=V([]),r=o=>{const s=document.createElement("canvas"),n=s.getContext("2d");if(n){const C=Math.min(128/o.width,128/o.height),b=Math.floor(o.width*C),L=Math.floor(o.height*C);s.width=b,s.height=L,n.drawImage(o,0,0,b,L);const R=n.getImageData(0,0,b,L).data,O=[];for(let X=0;X<R.length;X+=4){const It=R[X],kt=R[X+1],Mt=R[X+2];if(R[X+3]<255)continue;const Rt=Vt(It,kt,Mt);O.push(Rt)}const K=ts.quantize(O,128),mt=Ht.score(K).slice(0,4).map(X=>q(X));return e.value=mt,mt}return[]},i=V(null),c=()=>{var o;(o=i.value)==null||o.click()},w=async o=>{const s=o.target;if(s.files&&s.files[0]){const n=s.files[0];await t.setWallpaper(n);const v=new FileReader;v.onload=async C=>{var R;const b=(R=C.target)==null?void 0:R.result,L=new Image;L.src=b,await new Promise(O=>{L.onload=O});const W=r(L);W.length>0&&t.setSourceColor(W[0])},v.readAsDataURL(n)}},g=()=>{t.setWallpaper(null),e.value=[],i.value&&(i.value.value="")},I=gt(()=>t.wallpaper?{backgroundImage:`url(${t.wallpaper})`,backgroundSize:"cover",backgroundPosition:"center"}:{}),E=V(!1),u=V("#6750A4"),f=V("6750A4"),h=vt({r:103,g:80,b:164}),d=vt({h:266,s:51,v:64}),k=V(null),y=V(null),B=V(!1),D=V(!1),l=o=>{const s=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(o);return s?{r:parseInt(s[1],16),g:parseInt(s[2],16),b:parseInt(s[3],16)}:{r:0,g:0,b:0}},p=(o,s,n)=>"#"+((1<<24)+(o<<16)+(s<<8)+n).toString(16).slice(1).toUpperCase(),M=(o,s,n)=>{o/=255,s/=255,n/=255;const v=Math.max(o,s,n),C=Math.min(o,s,n);let b=0,L,W=v;const R=v-C;if(L=v===0?0:R/v,v===C)b=0;else{switch(v){case o:b=(s-n)/R+(s<n?6:0);break;case s:b=(n-o)/R+2;break;case n:b=(o-s)/R+4;break}b/=6}return{h:Math.round(b*360),s:Math.round(L*100),v:Math.round(W*100)}},U=(o,s,n)=>{let v,C,b;const L=Math.floor(o/60),W=o/60-L,R=n*(1-s/100),O=n*(1-W*s/100),K=n*(1-(1-W)*s/100);switch(L%6){case 0:v=n,C=K,b=R;break;case 1:v=O,C=n,b=R;break;case 2:v=R,C=n,b=K;break;case 3:v=R,C=O,b=n;break;case 4:v=K,C=R,b=n;break;case 5:v=n,C=R,b=O;break;default:v=0,C=0,b=0}return{r:Math.round(v*2.55),g:Math.round(C*2.55),b:Math.round(b*2.55)}},$=()=>{const o=U(d.h,d.s,d.v);h.r=o.r,h.g=o.g,h.b=o.b;const s=p(o.r,o.g,o.b);u.value=s,f.value=s.replace("#","")},m=()=>{u.value=t.sourceColor,f.value=t.sourceColor.replace("#","");const o=l(t.sourceColor);h.r=o.r,h.g=o.g,h.b=o.b;const s=M(o.r,o.g,o.b);d.h=s.h,d.s=s.s,d.v=s.v,E.value=!0},x=()=>{E.value=!1},S=()=>{if(f.value=f.value.replace(/[^0-9A-Fa-f]/g,"").toUpperCase(),f.value.length===6){const o="#"+f.value;u.value=o;const s=l(o);h.r=s.r,h.g=s.g,h.b=s.b;const n=M(s.r,s.g,s.b);d.h=n.h,d.s=n.s,d.v=n.v}},G=()=>{const o=p(h.r,h.g,h.b);u.value=o,f.value=o.replace("#","");const s=M(h.r,h.g,h.b);d.h=s.h,d.s=s.s,d.v=s.v},P=o=>{B.value=!0,Z(o)},Y=o=>{D.value=!0,H(o)},Z=o=>{if(!k.value)return;const s=k.value.getBoundingClientRect();let n,v;if("touches"in o){const L=o.touches[0];if(!L)return;n=L.clientX,v=L.clientY}else n=o.clientX,v=o.clientY;let C=(n-s.left)/s.width,b=(v-s.top)/s.height;C=Math.max(0,Math.min(1,C)),b=Math.max(0,Math.min(1,b)),d.s=Math.round(C*100),d.v=Math.round((1-b)*100),$()},H=o=>{if(!y.value)return;const s=y.value.getBoundingClientRect();let n;if("touches"in o){const C=o.touches[0];if(!C)return;n=C.clientX}else n=o.clientX;let v=(n-s.left)/s.width;v=Math.max(0,Math.min(1,v)),d.h=Math.round(v*360),$()},Q=()=>{B.value=!1,D.value=!1},ot=o=>{B.value&&Z(o),D.value&&H(o)};Tt(async()=>{if(window.addEventListener("mousemove",ot),window.addEventListener("mouseup",Q),window.addEventListener("touchmove",ot),window.addEventListener("touchend",Q),t.wallpaper)try{const o=new Image;o.crossOrigin="Anonymous",o.src=t.wallpaper,await new Promise((s,n)=>{o.onload=s,o.onerror=n}),r(o)}catch(o){console.error("提取壁纸颜色失败:",o)}}),Nt(()=>{window.removeEventListener("mousemove",ot),window.removeEventListener("mouseup",Q),window.removeEventListener("touchmove",ot),window.removeEventListener("touchend",Q)});const bt=()=>{t.setSourceColor(u.value),x()},ht=o=>{t.theme!==o&&t.toggleTheme()},it=[{color:"#6750A4",name:"深紫"},{color:"#386A20",name:"苔绿"},{color:"#006874",name:"青色"},{color:"#9C4146",name:"砖红"},{color:"#7D5260",name:"粉红"},{color:"#825500",name:"棕色"},{color:"#006D31",name:"翠绿"},{color:"#006783",name:"湖蓝"}],yt=gt(()=>it.map(o=>{const s=pt(ft(o.color));return{source:o.color,name:o.name,c1:q(s.schemes.light.primary),c2:q(s.schemes.light.secondaryContainer),c3:q(s.schemes.light.tertiaryContainer),c4:q(s.schemes.light.surfaceVariant)}})),lt=o=>it.some(s=>s.color.toLowerCase()===o.toLowerCase()),Ct=o=>{const s=it.find(n=>n.color.toLowerCase()===o.toLowerCase());return s?s.name:"自定义"},ut=o=>{let s,n,v,C;if(o.c1)s=o.c1,n=o.c2,v=o.c3,C=o.c4;else{const b=pt(ft(o.source));s=q(b.schemes.light.primary),n=q(b.schemes.light.secondaryContainer),v=q(b.schemes.light.tertiaryContainer),C=q(b.schemes.light.surfaceVariant)}return{background:`conic-gradient(
      ${s} 0% 25%, 
      ${n} 25% 50%, 
      ${v} 50% 75%, 
      ${C} 75% 100%
    )`}};return(o,s)=>(N(),T("div",ss,[s[31]||(s[31]=a("div",{class:"page-header"},[a("div",{class:"header-content"},[a("h1",null,"风格与壁纸"),a("p",{class:"subtitle"},"自定义 WebUI 的外观和配色方案")])],-1)),a("div",es,[s[22]||(s[22]=dt('<div class="preview-section" data-v-d1e9757b><div class="preview-card" data-v-d1e9757b><div class="preview-header" data-v-d1e9757b><div class="preview-title" data-v-d1e9757b>预览</div></div><div class="preview-body" data-v-d1e9757b><div class="mock-ui" data-v-d1e9757b><div class="mock-sidebar" data-v-d1e9757b><div class="mock-icon active" data-v-d1e9757b></div><div class="mock-icon" data-v-d1e9757b></div><div class="mock-icon" data-v-d1e9757b></div></div><div class="mock-content" data-v-d1e9757b><div class="mock-card primary" data-v-d1e9757b><div class="mock-line title" data-v-d1e9757b></div><div class="mock-line" data-v-d1e9757b></div></div><div class="mock-row" data-v-d1e9757b><div class="mock-card secondary" data-v-d1e9757b></div><div class="mock-card tertiary" data-v-d1e9757b></div></div></div></div></div></div></div>',1)),a("div",os,[s[15]||(s[15]=a("h2",null,"壁纸",-1)),a("div",ns,[a("div",{class:"wallpaper-preview",style:j(I.value)},[A(t).wallpaper?(N(),T("button",{key:1,class:"remove-btn",onClick:g,title:"移除壁纸"},[...s[10]||(s[10]=[a("span",{class:"material-symbols-rounded"},"close",-1)])])):(N(),T("div",as,[...s[9]||(s[9]=[a("span",{class:"material-symbols-rounded"},"image",-1),a("span",null,"暂无壁纸",-1)])]))],4),a("div",rs,[a("input",{type:"file",ref_key:"fileInput",ref:i,accept:"image/*",style:{display:"none"},onChange:w},null,544),a("button",{class:"btn-primary",onClick:c},[...s[11]||(s[11]=[a("span",{class:"material-symbols-rounded"},"upload",-1),Ut(" 上传壁纸 ",-1)])]),s[12]||(s[12]=a("p",{class:"hint"},"上传壁纸后将自动提取主题色",-1))])]),A(t).wallpaper?(N(),T("div",is,[a("div",ls,[s[13]||(s[13]=a("span",{class:"setting-label"},"不透明度",-1)),a("input",{type:"range",min:"0",max:"1",step:"0.1",value:A(t).wallpaperOpacity,onInput:s[0]||(s[0]=n=>A(t).setWallpaperOpacity(Number(n.target.value)))},null,40,ds),a("span",cs,J(A(t).wallpaperOpacity),1)]),a("div",hs,[s[14]||(s[14]=a("span",{class:"setting-label"},"模糊度",-1)),a("input",{type:"range",min:"0",max:"50",step:"1",value:A(t).wallpaperBlur,onInput:s[1]||(s[1]=n=>A(t).setWallpaperBlur(Number(n.target.value)))},null,40,us),a("span",ms,J(A(t).wallpaperBlur)+"px",1)])])):tt("",!0)]),a("div",gs,[s[17]||(s[17]=a("h2",null,"基本颜色",-1)),a("div",vs,[(N(!0),T(xt,null,wt(yt.value,n=>(N(),T("button",{key:n.source,class:st(["preset-item",{active:A(t).sourceColor.toLowerCase()===n.source.toLowerCase()}]),onClick:v=>A(t).setSourceColor(n.source),title:n.source},[a("div",{class:"preset-circle",style:j(ut(n))},[A(t).sourceColor.toLowerCase()===n.source.toLowerCase()?(N(),T("span",fs,"check")):tt("",!0)],4),a("span",xs,J(Ct(n.source)),1)],10,ps))),128)),a("button",{class:st(["preset-item custom-picker",{active:!lt(A(t).sourceColor)}]),onClick:m,title:"自定义颜色"},[a("div",{class:"preset-circle custom-circle",style:j(lt(A(t).sourceColor)?{}:{background:A(t).sourceColor})},[a("span",{class:"material-symbols-rounded more-icon",style:j({color:lt(A(t).sourceColor)?"":"#fff"})},"palette",4)],4),s[16]||(s[16]=a("span",{class:"preset-label"},"自定义",-1))],2)])]),e.value.length>0?(N(),T("div",ws,[s[18]||(s[18]=a("h2",null,"图片取色",-1)),a("div",bs,[(N(!0),T(xt,null,wt(e.value,n=>(N(),T("button",{key:n,class:st(["preset-item",{active:A(t).sourceColor.toLowerCase()===n.toLowerCase()}]),onClick:v=>A(t).setSourceColor(n),title:n},[a("div",{class:"preset-circle",style:j(ut({source:n}))},[A(t).sourceColor.toLowerCase()===n.toLowerCase()?(N(),T("span",Cs,"check")):tt("",!0)],4)],10,ys))),128))])])):tt("",!0),a("div",Is,[s[21]||(s[21]=a("h2",null,"深色主题",-1)),a("div",ks,[a("button",{class:st(["mode-card",{active:A(t).theme==="light"}]),onClick:s[2]||(s[2]=n=>ht("light"))},[...s[19]||(s[19]=[dt('<div class="mode-preview light" data-v-d1e9757b><span class="material-symbols-rounded" data-v-d1e9757b>light_mode</span></div><span class="mode-label" data-v-d1e9757b>浅色模式</span><div class="radio-indicator" data-v-d1e9757b><div class="radio-inner" data-v-d1e9757b></div></div>',3)])],2),a("button",{class:st(["mode-card",{active:A(t).theme==="dark"}]),onClick:s[3]||(s[3]=n=>ht("dark"))},[...s[20]||(s[20]=[dt('<div class="mode-preview dark" data-v-d1e9757b><span class="material-symbols-rounded" data-v-d1e9757b>dark_mode</span></div><span class="mode-label" data-v-d1e9757b>深色模式</span><div class="radio-indicator" data-v-d1e9757b><div class="radio-inner" data-v-d1e9757b></div></div>',3)])],2)])])]),zt($t,{name:"fade"},{default:Ft(()=>[E.value?(N(),T("div",{key:0,class:"modal-overlay",onClick:x},[a("div",{class:"modal-content",onClick:s[8]||(s[8]=ct(()=>{},["stop"]))},[a("div",{class:"modal-header"},[s[24]||(s[24]=a("h3",null,"自定义主题色",-1)),a("button",{class:"close-btn",onClick:x},[...s[23]||(s[23]=[a("span",{class:"material-symbols-rounded"},"close",-1)])])]),a("div",Ms,[a("div",Rs,[a("div",{class:"saturation-area",ref_key:"saturationArea",ref:k,style:j({backgroundColor:`hsl(${d.h}, 100%, 50%)`}),onMousedown:P,onTouchstart:ct(P,["prevent"])},[s[25]||(s[25]=a("div",{class:"saturation-white"},null,-1)),s[26]||(s[26]=a("div",{class:"saturation-black"},null,-1)),a("div",{class:"saturation-cursor",style:j({left:`${d.s}%`,top:`${100-d.v}%`,backgroundColor:u.value})},null,4)],36),a("div",{class:"hue-slider",ref_key:"hueSlider",ref:y,onMousedown:Y,onTouchstart:ct(Y,["prevent"])},[a("div",{class:"hue-cursor",style:j({left:`${d.h/360*100}%`})},null,4)],544)]),a("div",As,[a("div",Es,[s[27]||(s[27]=a("span",{class:"hex-prefix"},"#",-1)),nt(a("input",{type:"text","onUpdate:modelValue":s[4]||(s[4]=n=>f.value=n),onInput:S,class:"hex-input",maxlength:"6"},null,544),[[at,f.value]])]),a("div",Bs,[a("div",Ls,[s[28]||(s[28]=a("span",{class:"slider-label red"},"R",-1)),nt(a("input",{type:"range",min:"0",max:"255","onUpdate:modelValue":s[5]||(s[5]=n=>h.r=n),onInput:G,class:"color-slider red-slider"},null,544),[[at,h.r,void 0,{number:!0}]]),a("span",Ds,J(h.r),1)]),a("div",_s,[s[29]||(s[29]=a("span",{class:"slider-label green"},"G",-1)),nt(a("input",{type:"range",min:"0",max:"255","onUpdate:modelValue":s[6]||(s[6]=n=>h.g=n),onInput:G,class:"color-slider green-slider"},null,544),[[at,h.g,void 0,{number:!0}]]),a("span",Ss,J(h.g),1)]),a("div",Gs,[s[30]||(s[30]=a("span",{class:"slider-label blue"},"B",-1)),nt(a("input",{type:"range",min:"0",max:"255","onUpdate:modelValue":s[7]||(s[7]=n=>h.b=n),onInput:G,class:"color-slider blue-slider"},null,544),[[at,h.b,void 0,{number:!0}]]),a("span",Ts,J(h.b),1)])])])]),a("div",{class:"modal-footer"},[a("button",{class:"btn-text",onClick:x},"取消"),a("button",{class:"btn-filled",onClick:bt},"应用")])])])):tt("",!0)]),_:1})]))}}),$s=qt(Ns,[["__scopeId","data-v-d1e9757b"]]);export{$s as default};
